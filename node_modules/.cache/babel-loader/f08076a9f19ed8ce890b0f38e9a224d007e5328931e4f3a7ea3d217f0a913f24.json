{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\confi\\\\Downloads\\\\pdf-summarizer\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// App.js - Vers√£o com Divisor de PDF Configur√°vel (1, 2, 3 ou 4 partes)\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport './App.css';\nimport ErrorHandler from './components/ErrorHandler';\n\n// Fun√ß√£o para determinar a URL da API baseada no ambiente\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction getApiUrl() {\n  if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {\n    return 'http://localhost:5000';\n  }\n  return 'https://server-theta-murex.vercel.app';\n}\nconst API_URL = getApiUrl();\nclass ChunkedUploader {\n  constructor(chunkSize = 3.5 * 1024 * 1024) {\n    // 3.5MB por chunk\n    this.chunkSize = chunkSize;\n  }\n  async uploadFile(file, onProgress) {\n    if (file.size <= 4 * 1024 * 1024) {\n      return this.uploadNormal(file, onProgress);\n    } else {\n      return this.uploadChunked(file, onProgress);\n    }\n  }\n  async uploadNormal(file, onProgress) {\n    const formData = new FormData();\n    formData.append('pdf', file);\n    const response = await fetch(`${API_URL}/api/upload`, {\n      method: 'POST',\n      body: formData\n    });\n    if (onProgress) onProgress(100);\n    if (!response.ok) {\n      let errorMessage = `Erro ${response.status}: ${response.statusText}`;\n      try {\n        const errorData = await response.json();\n        if (errorData.message) errorMessage = errorData.message;\n      } catch (jsonError) {}\n      throw new Error(errorMessage);\n    }\n    return response.json();\n  }\n  async uploadChunked(file, onProgress) {\n    const totalChunks = Math.ceil(file.size / this.chunkSize);\n    const uploadId = Date.now().toString();\n    for (let i = 0; i < totalChunks; i++) {\n      const start = i * this.chunkSize;\n      const end = Math.min(start + this.chunkSize, file.size);\n      const chunk = file.slice(start, end);\n      const formData = new FormData();\n      formData.append('chunk', chunk);\n      formData.append('chunkIndex', i);\n      formData.append('totalChunks', totalChunks);\n      formData.append('uploadId', uploadId);\n      formData.append('fileName', file.name);\n      const response = await fetch(`${API_URL}/api/upload-chunk`, {\n        method: 'POST',\n        body: formData\n      });\n      if (!response.ok) {\n        throw new Error(`Chunk ${i} failed: ${response.statusText}`);\n      }\n      if (onProgress) {\n        const progress = (i + 1) / totalChunks * 90;\n        onProgress(Math.round(progress));\n      }\n    }\n    const finalResponse = await fetch(`${API_URL}/api/finalize-upload`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        uploadId\n      })\n    });\n    if (!finalResponse.ok) {\n      throw new Error(`Finalization failed: ${finalResponse.statusText}`);\n    }\n    if (onProgress) onProgress(100);\n    return finalResponse.json();\n  }\n}\nfunction App() {\n  _s();\n  const [files, setFiles] = useState([]);\n  const [summaries, setSummaries] = useState([]);\n  const [patientName, setPatientName] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [apiStatus, setApiStatus] = useState(null);\n  const [uploadStatus, setUploadStatus] = useState(null);\n  const [processingStage, setProcessingStage] = useState(null);\n  const [currentProcessingFile, setCurrentProcessingFile] = useState(null);\n  const [processedFiles, setProcessedFiles] = useState(0);\n  const [totalFiles, setTotalFiles] = useState(0);\n  const [dragOver, setDragOver] = useState(false);\n  const [fileUploadProgress, setFileUploadProgress] = useState({});\n  const uploaderRef = useRef(new ChunkedUploader());\n\n  // Estados para o divisor de PDF (modificados para m√∫ltiplos arquivos)\n  const [activeTab, setActiveTab] = useState('extractor'); // 'extractor' ou 'splitter'\n  const [selectedFilesForSplit, setSelectedFilesForSplit] = useState([]);\n  const [isSplitting, setIsSplitting] = useState(false);\n  const [splitError, setSplitError] = useState(null);\n  const [splitSuccess, setSplitSuccess] = useState(null);\n  const [splitFiles, setSplitFiles] = useState([]);\n  const [dragOverSplitter, setDragOverSplitter] = useState(false);\n  const [splittingProgress, setSplittingProgress] = useState({\n    current: 0,\n    total: 0,\n    fileName: ''\n  });\n\n  // NOVO: Estado para n√∫mero de partes\n  const [splitParts, setSplitParts] = useState(2); // Padr√£o: 2 partes\n\n  const textAreaRef = useRef(null);\n  const fileInputRef = useRef(null);\n  const splitFileInputRef = useRef(null);\n\n  // Fun√ß√£o para carregar PDF-lib dinamicamente\n  const loadPDFLib = useCallback(async () => {\n    if (window.PDFLib) return window.PDFLib;\n    const script = document.createElement('script');\n    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js';\n    document.head.appendChild(script);\n    return new Promise((resolve, reject) => {\n      script.onload = () => {\n        if (window.PDFLib) {\n          resolve(window.PDFLib);\n        } else {\n          reject(new Error('Falha ao carregar PDF-lib'));\n        }\n      };\n      script.onerror = () => reject(new Error('Erro ao carregar PDF-lib'));\n    });\n  }, []);\n\n  // Verificar status da API ao carregar\n  useEffect(() => {\n    const checkApiStatus = async () => {\n      setApiStatus({\n        status: 'checking',\n        message: 'Verificando conex√£o...',\n        url: API_URL\n      });\n      try {\n        const response = await fetch(`${API_URL}/api/health`);\n        if (response.ok) {\n          const data = await response.json();\n          setApiStatus({\n            status: 'online',\n            env: data.env,\n            url: API_URL\n          });\n        } else {\n          setApiStatus({\n            status: 'error',\n            message: `Erro ${response.status}`,\n            url: API_URL\n          });\n        }\n      } catch (error) {\n        setApiStatus({\n          status: 'offline',\n          message: 'Servidor indispon√≠vel',\n          error: error.message,\n          url: API_URL\n        });\n      }\n    };\n    checkApiStatus();\n  }, []);\n\n  // Fun√ß√£o para reconectar com a API\n  const retryApiConnection = useCallback(() => {\n    setApiStatus({\n      status: 'checking',\n      message: 'Reconectando...',\n      url: API_URL\n    });\n    setTimeout(async () => {\n      try {\n        const response = await fetch(`${API_URL}/api/health`);\n        if (response.ok) {\n          const data = await response.json();\n          setApiStatus({\n            status: 'online',\n            env: data.env,\n            url: API_URL\n          });\n          setError(null);\n        } else {\n          setApiStatus({\n            status: 'error',\n            message: `Erro ${response.status}`,\n            url: API_URL\n          });\n        }\n      } catch (error) {\n        setApiStatus({\n          status: 'offline',\n          message: 'Servidor indispon√≠vel',\n          url: API_URL\n        });\n      }\n    }, 1000);\n  }, []);\n\n  // Fun√ß√£o para resetar o estado do extrator\n  const handleReset = useCallback(() => {\n    setSummaries([]);\n    setPatientName('');\n    setError(null);\n    setFiles([]);\n    setUploadStatus(null);\n    setProcessingStage(null);\n    setCurrentProcessingFile(null);\n    setProcessedFiles(0);\n    setTotalFiles(0);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  }, []);\n\n  // Fun√ß√£o para resetar o estado do divisor\n  const resetSplitter = useCallback(() => {\n    setSelectedFilesForSplit([]);\n    setSplitFiles([]);\n    setSplitError(null);\n    setSplitSuccess(null);\n    setSplittingProgress({\n      current: 0,\n      total: 0,\n      fileName: ''\n    });\n    setSplitParts(2); // Reset para valor padr√£o\n    if (splitFileInputRef.current) {\n      splitFileInputRef.current.value = '';\n    }\n  }, []);\n\n  // Handlers para drag and drop do extrator\n  const handleDragOver = useCallback(e => {\n    e.preventDefault();\n    setDragOver(true);\n  }, []);\n  const handleDragLeave = useCallback(e => {\n    e.preventDefault();\n    setDragOver(false);\n  }, []);\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    setDragOver(false);\n    const droppedFiles = Array.from(e.dataTransfer.files);\n    const pdfFiles = droppedFiles.filter(file => file.type === 'application/pdf');\n    if (pdfFiles.length === 0 && droppedFiles.length > 0) {\n      setError('Por favor, solte apenas arquivos PDF v√°lidos.');\n      setTimeout(() => setError(null), 3000);\n      return;\n    }\n    setFiles(prevFiles => [...prevFiles, ...pdfFiles]);\n    setError(null);\n    setUploadStatus(null);\n    setProcessingStage(null);\n  }, []);\n\n  // Handlers para drag and drop do divisor (modificados para m√∫ltiplos arquivos)\n  const handleSplitterDragOver = useCallback(e => {\n    e.preventDefault();\n    setDragOverSplitter(true);\n  }, []);\n  const handleSplitterDragLeave = useCallback(e => {\n    e.preventDefault();\n    setDragOverSplitter(false);\n  }, []);\n  const handleSplitterDrop = useCallback(e => {\n    e.preventDefault();\n    setDragOverSplitter(false);\n    const droppedFiles = Array.from(e.dataTransfer.files);\n    const pdfFiles = droppedFiles.filter(file => file.type === 'application/pdf');\n    if (pdfFiles.length > 0) {\n      setSelectedFilesForSplit(prevFiles => [...prevFiles, ...pdfFiles]);\n      setSplitError(null);\n      setSplitFiles([]);\n      setSplitSuccess(null);\n    } else if (droppedFiles.length > 0) {\n      setSplitError('Por favor, solte apenas arquivos PDF v√°lidos.');\n      setTimeout(() => setSplitError(null), 3000);\n    }\n  }, []);\n  const handleFileChange = useCallback(e => {\n    const selectedFiles = Array.from(e.target.files);\n    setUploadStatus(null);\n    setProcessingStage(null);\n    const pdfFiles = selectedFiles.filter(file => file.type === 'application/pdf');\n    if (pdfFiles.length === 0 && selectedFiles.length > 0) {\n      setError('Por favor, selecione apenas arquivos PDF v√°lidos.');\n      setTimeout(() => setError(null), 3000);\n      return;\n    }\n    setFiles(prevFiles => [...prevFiles, ...pdfFiles]);\n    setError(null);\n  }, []);\n\n  // Modificado para m√∫ltiplos arquivos\n  const handleSplitFileChange = useCallback(e => {\n    const selectedFiles = Array.from(e.target.files);\n    const pdfFiles = selectedFiles.filter(file => file.type === 'application/pdf');\n    if (pdfFiles.length > 0) {\n      setSelectedFilesForSplit(prevFiles => [...prevFiles, ...pdfFiles]);\n      setSplitError(null);\n      setSplitFiles([]);\n      setSplitSuccess(null);\n    } else if (selectedFiles.length > 0) {\n      setSplitError('Por favor, selecione apenas arquivos PDF v√°lidos.');\n      setTimeout(() => setSplitError(null), 3000);\n    }\n  }, []);\n\n  // Fun√ß√£o para remover arquivo do extrator\n  const removeFile = useCallback(index => {\n    setFiles(prevFiles => prevFiles.filter((_, i) => i !== index));\n  }, []);\n\n  // Fun√ß√£o para remover arquivo do divisor\n  const removeSplitFile = useCallback(index => {\n    setSelectedFilesForSplit(prevFiles => prevFiles.filter((_, i) => i !== index));\n  }, []);\n\n  // Fun√ß√£o para limpar todos os arquivos do extrator\n  const clearAllFiles = useCallback(() => {\n    setFiles([]);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  }, []);\n\n  // Fun√ß√£o para limpar todos os arquivos do divisor\n  const clearAllSplitFiles = useCallback(() => {\n    setSelectedFilesForSplit([]);\n    if (splitFileInputRef.current) {\n      splitFileInputRef.current.value = '';\n    }\n  }, []);\n\n  // MODIFICADO: Fun√ß√£o para dividir um √∫nico PDF com tratamento para PDFs criptografados\n  const splitSinglePDF = useCallback(async (file, PDFLib, parts) => {\n    const arrayBuffer = await file.arrayBuffer();\n\n    // Tentar diferentes estrat√©gias para carregar PDFs criptografados\n    let pdfDoc = null;\n    let loadMethod = '';\n    try {\n      // Estrat√©gia 1: Tentar carregar normalmente\n      pdfDoc = await PDFLib.PDFDocument.load(arrayBuffer);\n      loadMethod = 'normal';\n    } catch (firstError) {\n      console.log(`Erro ao carregar ${file.name} normalmente:`, firstError.message);\n\n      // Verificar se √© erro de criptografia\n      if (firstError.message && firstError.message.includes('encrypted')) {\n        try {\n          // Estrat√©gia 2: Ignorar criptografia\n          console.log(`Tentando ignorar criptografia para ${file.name}...`);\n          pdfDoc = await PDFLib.PDFDocument.load(arrayBuffer, {\n            ignoreEncryption: true,\n            updateMetadata: false,\n            throwOnInvalidObject: false\n          });\n          loadMethod = 'ignoreEncryption';\n        } catch (secondError) {\n          console.log(`Falha ao ignorar criptografia para ${file.name}:`, secondError.message);\n          try {\n            // Estrat√©gia 3: Tentar senhas comuns\n            console.log(`Tentando senhas comuns para ${file.name}...`);\n            const commonPasswords = ['', '1234', 'admin', 'password', 'pdf', 'exame', 'laudo', 'laboratorio', '123456'];\n            for (const password of commonPasswords) {\n              try {\n                pdfDoc = await PDFLib.PDFDocument.load(arrayBuffer, {\n                  password,\n                  updateMetadata: false,\n                  throwOnInvalidObject: false\n                });\n                loadMethod = `senha: \"${password || 'vazia'}\"`;\n                break;\n              } catch (passwordError) {\n                // Continuar tentando pr√≥xima senha\n                continue;\n              }\n            }\n            if (!pdfDoc) {\n              throw new Error('Nenhuma senha comum funcionou');\n            }\n          } catch (thirdError) {\n            console.log(`Falha com senhas comuns para ${file.name}:`, thirdError.message);\n            try {\n              // Estrat√©gia 4: Modo de recupera√ß√£o avan√ßado\n              console.log(`Tentando modo de recupera√ß√£o para ${file.name}...`);\n              pdfDoc = await PDFLib.PDFDocument.load(arrayBuffer, {\n                ignoreEncryption: true,\n                throwOnInvalidObject: false,\n                updateMetadata: false,\n                parseSpeed: 150 // Mais lento, mas mais robusto\n              });\n              loadMethod = 'recupera√ß√£o';\n            } catch (fourthError) {\n              // Se todas as estrat√©gias falharam, lan√ßar erro espec√≠fico\n              throw new Error(`PDF \"${file.name}\" est√° protegido e n√£o pode ser dividido. Erro: ${firstError.message.includes('encrypted') ? 'Documento criptografado/protegido' : firstError.message}`);\n            }\n          }\n        }\n      } else {\n        // Se n√£o √© erro de criptografia, re-lan√ßar o erro original\n        throw new Error(`Erro ao processar \"${file.name}\": ${firstError.message}`);\n      }\n    }\n    console.log(`PDF ${file.name} carregado com sucesso usando m√©todo: ${loadMethod}`);\n    const totalPages = pdfDoc.getPageCount();\n    if (totalPages < parts) {\n      throw new Error(`O PDF \"${file.name}\" deve ter pelo menos ${parts} p√°ginas para ser dividido em ${parts} partes. (P√°ginas encontradas: ${totalPages})`);\n    }\n    const pagesPerPart = Math.ceil(totalPages / parts);\n    const resultFiles = [];\n    const errors = [];\n    for (let i = 0; i < parts; i++) {\n      try {\n        const newPdf = await PDFLib.PDFDocument.create();\n        const startPage = i * pagesPerPart;\n        const endPage = Math.min(startPage + pagesPerPart, totalPages);\n        if (startPage < totalPages) {\n          const pageIndices = Array.from({\n            length: endPage - startPage\n          }, (_, index) => startPage + index);\n          try {\n            const copiedPages = await newPdf.copyPages(pdfDoc, pageIndices);\n            copiedPages.forEach(page => newPdf.addPage(page));\n          } catch (copyError) {\n            console.warn(`Erro ao copiar p√°ginas ${startPage + 1}-${endPage} de ${file.name}:`, copyError.message);\n\n            // Tentar copiar p√°gina por p√°gina se a c√≥pia em lote falhar\n            for (let pageIndex of pageIndices) {\n              try {\n                const [copiedPage] = await newPdf.copyPages(pdfDoc, [pageIndex]);\n                newPdf.addPage(copiedPage);\n              } catch (singlePageError) {\n                console.warn(`Erro ao copiar p√°gina ${pageIndex + 1} de ${file.name}:`, singlePageError.message);\n                errors.push(`P√°gina ${pageIndex + 1} n√£o p√¥de ser copiada`);\n\n                // Adicionar p√°gina em branco como placeholder\n                const blankPage = newPdf.addPage();\n                try {\n                  blankPage.drawText(`[P√°gina ${pageIndex + 1} n√£o p√¥de ser recuperada]`, {\n                    x: 50,\n                    y: blankPage.getHeight() / 2,\n                    size: 12\n                  });\n                } catch (textError) {\n                  // Se nem conseguir adicionar texto, pelo menos a p√°gina em branco fica\n                }\n              }\n            }\n          }\n          const pdfBytes = await newPdf.save({\n            useObjectStreams: false // Melhor compatibilidade\n          });\n          const originalName = file.name.replace('.pdf', '');\n          const fileName = `${originalName}_parte${i + 1}de${parts}.pdf`;\n          resultFiles.push({\n            name: fileName,\n            bytes: pdfBytes,\n            pages: endPage - startPage,\n            blob: new Blob([pdfBytes], {\n              type: 'application/pdf'\n            }),\n            originalFile: file.name,\n            partNumber: i + 1,\n            totalParts: parts,\n            loadMethod: loadMethod,\n            warnings: errors.length > 0 ? errors : undefined\n          });\n        }\n      } catch (partError) {\n        console.error(`Erro ao criar parte ${i + 1} de ${file.name}:`, partError.message);\n        errors.push(`Parte ${i + 1}: ${partError.message}`);\n      }\n    }\n    if (resultFiles.length === 0) {\n      throw new Error(`N√£o foi poss√≠vel criar nenhuma parte do PDF \"${file.name}\". ${errors.length > 0 ? 'Erros: ' + errors.join(', ') : ''}`);\n    }\n\n    // Se houve alguns erros mas pelo menos uma parte foi criada, incluir aviso\n    if (errors.length > 0) {\n      console.warn(`Divis√£o de ${file.name} completada com avisos:`, errors);\n    }\n    return resultFiles;\n  }, []);\n\n  // MODIFICADO: Fun√ß√£o principal para dividir PDFs com melhor tratamento de erros\n  const splitPDFs = useCallback(async () => {\n    if (selectedFilesForSplit.length === 0) {\n      setSplitError('Por favor, selecione pelo menos um arquivo PDF primeiro.');\n      return;\n    }\n    setIsSplitting(true);\n    setSplitError(null);\n    setSplitSuccess(null);\n    setSplitFiles([]);\n    setSplittingProgress({\n      current: 0,\n      total: selectedFilesForSplit.length,\n      fileName: ''\n    });\n    try {\n      const PDFLib = await loadPDFLib();\n      const allSplitFiles = [];\n      const errors = [];\n      const warnings = [];\n      for (let i = 0; i < selectedFilesForSplit.length; i++) {\n        const file = selectedFilesForSplit[i];\n        setSplittingProgress({\n          current: i + 1,\n          total: selectedFilesForSplit.length,\n          fileName: file.name\n        });\n        try {\n          const splitResults = await splitSinglePDF(file, PDFLib, splitParts);\n\n          // Verificar se h√° avisos nas partes criadas\n          const fileWarnings = [];\n          splitResults.forEach(result => {\n            if (result.warnings && result.warnings.length > 0) {\n              fileWarnings.push(...result.warnings);\n            }\n          });\n          if (fileWarnings.length > 0) {\n            warnings.push({\n              fileName: file.name,\n              warnings: fileWarnings\n            });\n          }\n          allSplitFiles.push(...splitResults);\n          console.log(`‚úÖ ${file.name} dividido com sucesso em ${splitResults.length} partes`);\n        } catch (error) {\n          console.error(`‚ùå Erro ao dividir ${file.name}:`, error);\n\n          // Categorizar tipos de erro para mensagens mais √∫teis\n          let errorMessage = error.message;\n          if (error.message.includes('criptografado') || error.message.includes('encrypted')) {\n            errorMessage = 'PDF protegido/criptografado - n√£o pode ser dividido';\n          } else if (error.message.includes('p√°ginas')) {\n            errorMessage = 'PDF tem poucas p√°ginas para divis√£o selecionada';\n          } else if (error.message.includes('corrupted') || error.message.includes('invalid')) {\n            errorMessage = 'PDF corrompido ou formato inv√°lido';\n          }\n          errors.push({\n            fileName: file.name,\n            error: errorMessage,\n            originalError: error.message\n          });\n        }\n      }\n      setSplitFiles(allSplitFiles);\n\n      // Construir mensagens de status baseadas nos resultados\n      const successCount = selectedFilesForSplit.length - errors.length;\n      let successMessage = '';\n      let errorMessage = '';\n      if (errors.length === 0) {\n        successMessage = `üéâ Todos os ${selectedFilesForSplit.length} PDFs foram divididos em ${splitParts} partes com sucesso! Total de ${allSplitFiles.length} arquivos gerados.`;\n        if (warnings.length > 0) {\n          successMessage += ` ‚ö†Ô∏è Alguns arquivos tiveram p√°ginas problem√°ticas que foram substitu√≠das por p√°ginas em branco.`;\n        }\n      } else if (allSplitFiles.length > 0) {\n        successMessage = `‚úÖ ${successCount} de ${selectedFilesForSplit.length} PDFs foram divididos com sucesso. Total de ${allSplitFiles.length} arquivos gerados.`;\n        errorMessage = `‚ùå Arquivos que n√£o puderam ser processados:\\n${errors.map(e => `‚Ä¢ ${e.fileName}: ${e.error}`).join('\\n')}`;\n        if (warnings.length > 0) {\n          errorMessage += `\\n\\n‚ö†Ô∏è Arquivos com avisos:\\n${warnings.map(w => `‚Ä¢ ${w.fileName}: ${w.warnings.join(', ')}`).join('\\n')}`;\n        }\n      } else {\n        errorMessage = `‚ùå Nenhum arquivo p√¥de ser processado:\\n${errors.map(e => `‚Ä¢ ${e.fileName}: ${e.error}`).join('\\n')}`;\n\n        // Adicionar dicas baseadas nos tipos de erro\n        const encryptedCount = errors.filter(e => e.error.includes('protegido') || e.error.includes('criptografado')).length;\n        const pageCount = errors.filter(e => e.error.includes('p√°ginas')).length;\n        if (encryptedCount > 0) {\n          errorMessage += `\\n\\nüí° Dica: ${encryptedCount} arquivo(s) est√£o protegidos. Tente:`;\n          errorMessage += `\\n‚Ä¢ Remover a prote√ß√£o usando outro software`;\n          errorMessage += `\\n‚Ä¢ Imprimir para PDF para criar vers√£o n√£o protegida`;\n          errorMessage += `\\n‚Ä¢ Usar o extrator de resultados que pode processar PDFs protegidos`;\n        }\n        if (pageCount > 0) {\n          errorMessage += `\\n\\nüìÑ Dica: ${pageCount} arquivo(s) t√™m poucas p√°ginas. Tente:`;\n          errorMessage += `\\n‚Ä¢ Reduzir o n√∫mero de partes para divis√£o`;\n          errorMessage += `\\n‚Ä¢ Verificar se o PDF tem o conte√∫do esperado`;\n        }\n      }\n      if (successMessage) setSplitSuccess(successMessage);\n      if (errorMessage) setSplitError(errorMessage);\n    } catch (error) {\n      console.error('‚ùå Erro ao carregar PDF-lib:', error);\n      setSplitError('‚ùå Erro ao carregar a biblioteca de processamento de PDF. Tente recarregar a p√°gina.');\n    } finally {\n      setIsSplitting(false);\n      setSplittingProgress({\n        current: 0,\n        total: 0,\n        fileName: ''\n      });\n    }\n  }, [selectedFilesForSplit, loadPDFLib, splitSinglePDF, splitParts]);\n\n  // Fun√ß√£o para download de arquivo\n  const downloadFile = useCallback(fileData => {\n    const url = URL.createObjectURL(fileData.blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = fileData.name;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  }, []);\n\n  // Fun√ß√£o para download de todos os arquivos\n  const downloadAll = useCallback(() => {\n    splitFiles.forEach((fileData, index) => {\n      setTimeout(() => downloadFile(fileData), index * 100);\n    });\n  }, [splitFiles, downloadFile]);\n\n  // Fun√ß√£o principal de upload e processamento (MODIFICADA para chunked upload)\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (files.length === 0) {\n      setError('Por favor, selecione pelo menos um arquivo PDF v√°lido.');\n      setTimeout(() => setError(null), 3000);\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    setUploadStatus({\n      stage: 'iniciando',\n      message: 'Iniciando processamento...',\n      timestamp: new Date().toLocaleTimeString()\n    });\n    setProcessingStage('upload');\n    setTotalFiles(files.length);\n    setProcessedFiles(0);\n    setFileUploadProgress({});\n    const allSummaries = [];\n    const fileErrors = [];\n    const patientNames = {};\n    for (let i = 0; i < files.length; i++) {\n      const file = files[i];\n      const fileNumber = i + 1;\n      setCurrentProcessingFile(file.name);\n      try {\n        const fileSizeMB = file.size / 1024 / 1024;\n        const isLargeFile = fileSizeMB > 4;\n        setUploadStatus({\n          stage: 'enviando',\n          message: `${isLargeFile ? 'Enviando em partes' : 'Enviando'} ${fileNumber}/${files.length}: ${file.name.substring(0, 30)}${file.name.length > 30 ? '...' : ''}`,\n          timestamp: new Date().toLocaleTimeString()\n        });\n\n        // NOVO: Usar chunked uploader em vez de fetch direto\n        const data = await uploaderRef.current.uploadFile(file, progress => {\n          setFileUploadProgress(prev => ({\n            ...prev,\n            [file.name]: progress\n          }));\n        });\n        setProcessingStage('processing');\n        setUploadStatus({\n          stage: 'processando',\n          message: `Processando ${fileNumber}/${files.length}: Extraindo dados...`,\n          timestamp: new Date().toLocaleTimeString()\n        });\n        if (!data.summaries || data.summaries.length === 0) {\n          throw new Error(`N√£o foi poss√≠vel extrair informa√ß√µes do documento ${file.name}.`);\n        }\n        if (data.patientName) {\n          patientNames[file.name] = data.patientName;\n        }\n        const fileSummaries = data.summaries.map(summary => ({\n          ...summary,\n          fileName: file.name,\n          patientName: data.patientName,\n          processedAt: new Date().toLocaleTimeString()\n        }));\n        allSummaries.push(...fileSummaries);\n        if (i === 0 && data.patientName) {\n          setPatientName(data.patientName);\n        }\n        setProcessedFiles(i + 1);\n      } catch (error) {\n        console.error(`Erro ao processar ${file.name}:`, error);\n        fileErrors.push({\n          fileName: file.name,\n          error: error.message,\n          timestamp: new Date().toLocaleTimeString()\n        });\n      }\n    }\n    setProcessingStage('complete');\n    if (allSummaries.length > 0) {\n      setSummaries(allSummaries);\n      if (fileErrors.length > 0) {\n        setUploadStatus({\n          stage: 'aviso',\n          message: `Processados ${allSummaries.length} resultados de ${files.length - fileErrors.length}/${files.length} arquivos.`,\n          details: `Conclu√≠do √†s ${new Date().toLocaleTimeString()}`,\n          timestamp: new Date().toLocaleTimeString()\n        });\n        const errorMessage = fileErrors.map(err => `${err.fileName}: ${err.error}`).join('\\n');\n        setError(`Alguns arquivos n√£o puderam ser processados:\\n\\n${errorMessage}`);\n      } else {\n        setUploadStatus({\n          stage: 'sucesso',\n          message: `Processamento conclu√≠do! ${allSummaries.length} resultados de ${files.length} arquivos.`,\n          details: `Finalizado √†s ${new Date().toLocaleTimeString()}`,\n          timestamp: new Date().toLocaleTimeString()\n        });\n        setError(null);\n      }\n    } else {\n      setUploadStatus({\n        stage: 'erro',\n        message: 'Nenhum resultado foi extra√≠do dos arquivos.',\n        details: `Falha √†s ${new Date().toLocaleTimeString()}`,\n        timestamp: new Date().toLocaleTimeString()\n      });\n      const errorMessage = fileErrors.map(err => `${err.fileName}: ${err.error}`).join('\\n');\n      setError(`Falha ao processar todos os arquivos:\\n\\n${errorMessage}`);\n    }\n    setLoading(false);\n    setCurrentProcessingFile(null);\n    setFileUploadProgress({});\n  };\n\n  // Gerar texto formatado para c√≥pia\n  const getSimplifiedTextForCopy = useCallback(() => {\n    if (summaries.length === 0) return '';\n    const resultsByFile = {};\n    summaries.forEach(summary => {\n      const fileName = summary.fileName || 'arquivo_desconhecido';\n      if (!resultsByFile[fileName]) {\n        resultsByFile[fileName] = {\n          patientName: summary.patientName || patientName || \"Paciente\",\n          results: [],\n          processedAt: summary.processedAt\n        };\n      }\n      const lines = summary.content.split('\\n');\n      lines.forEach(line => {\n        if (line.trim() && !line.match(/^S√âRIE|^HEMOGRAMA|^EXAMES/i) && !line.match(/^Paciente:/i)) {\n          resultsByFile[fileName].results.push(line.trim());\n        }\n      });\n    });\n    let formattedText = '';\n    let isFirstFile = true;\n    Object.keys(resultsByFile).forEach(fileName => {\n      if (!isFirstFile) {\n        formattedText += '\\n\\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\\n\\n';\n      } else {\n        isFirstFile = false;\n      }\n      const fileData = resultsByFile[fileName];\n      if (fileData.patientName) {\n        formattedText += `PACIENTE: ${fileData.patientName}\\n`;\n        if (fileData.processedAt) {\n          formattedText += `Processado √†s: ${fileData.processedAt}\\n`;\n        }\n        formattedText += '\\n';\n      }\n      const uniqueResults = [...new Set(fileData.results)];\n      uniqueResults.forEach(result => {\n        formattedText += `${result}\\n`;\n      });\n    });\n    return formattedText;\n  }, [summaries, patientName]);\n  const copyToClipboard = useCallback(async () => {\n    if (textAreaRef.current) {\n      try {\n        if (navigator.clipboard && window.isSecureContext) {\n          await navigator.clipboard.writeText(textAreaRef.current.value);\n        } else {\n          textAreaRef.current.select();\n          document.execCommand('copy');\n        }\n        const originalText = textAreaRef.current.value;\n        textAreaRef.current.value = 'Resultados copiados com sucesso!';\n        textAreaRef.current.style.background = '#f0fdf4';\n        textAreaRef.current.style.color = '#166534';\n        setTimeout(() => {\n          textAreaRef.current.value = originalText;\n          textAreaRef.current.style.background = '';\n          textAreaRef.current.style.color = '';\n        }, 2000);\n      } catch (err) {\n        console.error('Erro ao copiar:', err);\n        const originalText = textAreaRef.current.value;\n        textAreaRef.current.value = 'Erro ao copiar. Tente selecionar manualmente.';\n        textAreaRef.current.style.background = '#fef2f2';\n        textAreaRef.current.style.color = '#dc2626';\n        setTimeout(() => {\n          textAreaRef.current.value = originalText;\n          textAreaRef.current.style.background = '';\n          textAreaRef.current.style.color = '';\n        }, 3000);\n      }\n    }\n  }, []);\n\n  // Calcular progresso\n  const calculateProgress = useCallback(() => {\n    if (totalFiles === 0) return 0;\n    return Math.round(processedFiles / totalFiles * 100);\n  }, [processedFiles, totalFiles]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"institute-logo\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"logo-text\",\n          children: \"Instituto Paulo Godoi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 894,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 893,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Sistema de Processamento de Documentos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 896,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"subtitle\",\n        children: \"Extra\\xE7\\xE3o de resultados e ferramentas para PDFs laboratoriais\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 897,\n        columnNumber: 9\n      }, this), apiStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `api-status ${apiStatus.status}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"status-indicator\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 902,\n          columnNumber: 13\n        }, this), apiStatus.status === 'online' ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Conectado (\", apiStatus.env, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 904,\n          columnNumber: 15\n        }, this) : apiStatus.status === 'checking' ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Verificando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 906,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [apiStatus.message, /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"retry-button\",\n            onClick: retryApiConnection,\n            children: \"Tentar novamente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 909,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 908,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 901,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 892,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [((apiStatus === null || apiStatus === void 0 ? void 0 : apiStatus.status) === 'offline' || (apiStatus === null || apiStatus === void 0 ? void 0 : apiStatus.status) === 'error') && activeTab === 'extractor' && /*#__PURE__*/_jsxDEV(ErrorHandler, {\n        error: `N√£o foi poss√≠vel conectar ao servidor. ${apiStatus.message}`,\n        onRetry: retryApiConnection\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 921,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-navigation\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-button ${activeTab === 'extractor' ? 'active' : ''}`,\n          onClick: () => setActiveTab('extractor'),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"tab-icon\",\n            children: \"\\uD83D\\uDCCB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 933,\n            columnNumber: 13\n          }, this), \"Extrator de Resultados\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 929,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-button ${activeTab === 'splitter' ? 'active' : ''}`,\n          onClick: () => setActiveTab('splitter'),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"tab-icon\",\n            children: \"\\u2702\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 940,\n            columnNumber: 13\n          }, this), \"Divisor de PDF\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 936,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 928,\n        columnNumber: 9\n      }, this), activeTab === 'extractor' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"size-warning-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"warning-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"warning-icon\",\n              children: \"\\u26A0\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 951,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Limite de Tamanho para Extra\\xE7\\xE3o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 952,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 950,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"warning-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"PDFs com mais de 4MB precisam ser divididos antes da extra\\xE7\\xE3o.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 956,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 955,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Use a aba \", /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"tab-link-button\",\n                onClick: () => setActiveTab('splitter'),\n                children: \"\\u2702\\uFE0F Divisor de PDF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 959,\n                columnNumber: 29\n              }, this), \" para cortar arquivos grandes em partes menores.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 958,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 954,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 949,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `uploader-container ${dragOver ? 'drag-over' : ''}`,\n          onDragOver: handleDragOver,\n          onDragLeave: handleDragLeave,\n          onDrop: handleDrop,\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-input-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                id: \"pdf-upload\",\n                ref: fileInputRef,\n                onChange: handleFileChange,\n                accept: \"application/pdf\",\n                multiple: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 977,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"pdf-upload\",\n                className: `file-label ${dragOver ? 'drag-active' : ''}`,\n                children: dragOver ? 'Solte os arquivos PDF aqui' : files.length > 0 ? `${files.length} arquivo(s) selecionado(s)` : 'Escolher arquivos PDF ou arrastar aqui'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 985,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 976,\n              columnNumber: 17\n            }, this), files.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"selected-files-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Arquivos Selecionados\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 999,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"files-actions\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"clear-files-button\",\n                  onClick: clearAllFiles,\n                  disabled: loading,\n                  children: \"Remover todos\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1001,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1000,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"selected-files-list\",\n                children: files.map((file, index) => {\n                  const fileSizeMB = file.size / 1024 / 1024;\n                  const isOverLimit = fileSizeMB > 4;\n                  return /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: `file-item ${isOverLimit ? 'file-over-limit' : ''}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"file-name\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"pdf-icon\",\n                        children: \"\\uD83D\\uDCC4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1017,\n                        columnNumber: 31\n                      }, this), file.name, /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `file-size ${isOverLimit ? 'size-warning' : ''}`,\n                        children: [\"(\", fileSizeMB.toFixed(1), \" MB)\", isOverLimit && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"size-alert\",\n                          children: \"\\u26A0\\uFE0F Muito grande\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1021,\n                          columnNumber: 49\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1019,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1016,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"remove-file-button\",\n                      onClick: () => removeFile(index),\n                      disabled: loading,\n                      children: \"\\xD7\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1024,\n                      columnNumber: 29\n                    }, this)]\n                  }, `${file.name}-${index}`, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1015,\n                    columnNumber: 27\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1010,\n                columnNumber: 21\n              }, this), files.some(file => file.size / 1024 / 1024 > 4) && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-size-alert\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"alert-icon\",\n                  children: \"\\u26A0\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1038,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"alert-content\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Arquivos muito grandes detectados!\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1040,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"PDFs com mais de 4MB podem falhar na extra\\xE7\\xE3o.\", /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"alert-link-button\",\n                      onClick: () => setActiveTab('splitter'),\n                      children: \"Clique aqui para dividir os arquivos grandes\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1042,\n                      columnNumber: 30\n                    }, this), \" antes de extrair os resultados.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1041,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1039,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1037,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 998,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: `upload-button ${loading ? 'loading' : ''}`,\n              disabled: files.length === 0 || (apiStatus === null || apiStatus === void 0 ? void 0 : apiStatus.status) !== 'online' || loading,\n              children: loading ? 'Processando...' : 'Extrair Resultados'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1055,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 975,\n            columnNumber: 15\n          }, this), (processingStage === 'upload' || processingStage === 'processing') && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-bar-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-bar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-indicator\",\n                style: {\n                  width: `${calculateProgress()}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1068,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1067,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-status\",\n              children: currentProcessingFile ? `${processingStage === 'upload' ? 'Enviando' : 'Processando'}: ${currentProcessingFile.length > 30 ? currentProcessingFile.substring(0, 30) + '...' : currentProcessingFile} (${processedFiles + 1}/${totalFiles})` : processingStage === 'upload' ? 'Enviando arquivo...' : 'Processando documento...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1073,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1066,\n            columnNumber: 17\n          }, this), uploadStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `upload-status ${uploadStatus.stage}`,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"status-icon\",\n              children: uploadStatus.stage === 'sucesso' ? '‚úì' : uploadStatus.stage === 'erro' ? '‚úó' : uploadStatus.stage === 'aviso' ? '!' : '‚ü≥'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1090,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"status-message\",\n                children: uploadStatus.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1096,\n                columnNumber: 21\n              }, this), uploadStatus.details && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"status-details\",\n                children: uploadStatus.details\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1098,\n                columnNumber: 23\n              }, this), uploadStatus.timestamp && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"status-timestamp\",\n                children: uploadStatus.timestamp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1101,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1095,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1089,\n            columnNumber: 17\n          }, this), uploadStatus && uploadStatus.stage === 'erro' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pdf-tips\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Poss\\xEDveis solu\\xE7\\xF5es:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1110,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Verifique se os PDFs n\\xE3o est\\xE3o protegidos por senha\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1112,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Tente salvar os PDFs novamente usando \\\"Salvar como\\\"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1113,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Se poss\\xEDvel, imprima os documentos para novos PDFs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1114,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Entre em contato com o laborat\\xF3rio para vers\\xF5es alternativas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1115,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1111,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1109,\n            columnNumber: 17\n          }, this), uploadStatus && uploadStatus.stage === 'aviso' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"processing-notice\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Os documentos foram processados, mas alguns podem conter imprecis\\xF5es.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1123,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Verifique os resultados antes de usar.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1124,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1122,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 969,\n          columnNumber: 13\n        }, this), loading && !processingStage && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"loading\",\n          children: \"Processando documentos, aguarde...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1130,\n          columnNumber: 15\n        }, this), error && !uploadStatus && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1134,\n          columnNumber: 15\n        }, this), error && uploadStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-errors\",\n          children: /*#__PURE__*/_jsxDEV(\"details\", {\n            children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n              children: \"Detalhes dos erros\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1141,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n              className: \"error-details\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1142,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1140,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1139,\n          columnNumber: 15\n        }, this), summaries.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reset-button-container\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"reset-button\",\n            onClick: handleReset,\n            disabled: loading,\n            children: \"Processar novos documentos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1150,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1149,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-container\",\n          children: summaries.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-message\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Os resultados dos exames aparecer\\xE3o aqui.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1163,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Selecione arquivos PDF para come\\xE7ar.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1164,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1162,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-view-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Resultados Extra\\xEDdos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1168,\n              columnNumber: 19\n            }, this), summaries.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"file-count\",\n                children: [summaries.length, \" resultados extra\\xEDdos\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1171,\n                columnNumber: 23\n              }, this), files.length > 1 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"multi-file-notice\",\n                children: [\"de \", files.length, \" arquivos\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1173,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"extraction-time\",\n                children: [\"\\xE0s \", new Date().toLocaleTimeString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1175,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1170,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"copy-instructions\",\n              children: \"Lista de resultados pronta para copiar:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1178,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-area-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                ref: textAreaRef,\n                className: \"results-text-area\",\n                value: getSimplifiedTextForCopy(),\n                readOnly: true,\n                placeholder: \"Os resultados aparecer\\xE3o aqui...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1180,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: copyToClipboard,\n                className: \"copy-button\",\n                disabled: summaries.length === 0,\n                children: \"Copiar para \\xE1rea de transfer\\xEAncia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1187,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1179,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1167,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1160,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), activeTab === 'splitter' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pdf-splitter-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"splitter-intro\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"section-icon\",\n              children: \"\\u2702\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1206,\n              columnNumber: 17\n            }, this), \"Divisor de PDF\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1205,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"section-description\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Divida m\\xFAltiplos PDFs grandes em partes menores para extra\\xE7\\xE3o.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1210,\n              columnNumber: 17\n            }, this), \"Arquivos com mais de 4MB devem ser divididos antes de usar o extrator de resultados.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1209,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"splitter-benefits\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"benefit-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"benefit-icon\",\n                children: \"\\uD83C\\uDFAF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1215,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Processe v\\xE1rios PDFs de uma s\\xF3 vez\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1216,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1214,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"benefit-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"benefit-icon\",\n                children: \"\\uD83D\\uDD12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1219,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Processamento 100% local e seguro\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1220,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1218,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"benefit-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"benefit-icon\",\n                children: \"\\u26A1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1223,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Divis\\xE3o r\\xE1pida e autom\\xE1tica\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1224,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1222,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1213,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1204,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"split-options-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"split-options-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"options-icon\",\n              children: \"\\u2699\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1232,\n              columnNumber: 17\n            }, this), \"Configura\\xE7\\xF5es de Divis\\xE3o\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1231,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"split-parts-selector\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"parts-label\",\n              children: \"Dividir cada PDF em:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1236,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"parts-buttons-container\",\n              children: [2, 3, 4].map(parts => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `parts-button ${splitParts === parts ? 'active' : ''}`,\n                onClick: () => setSplitParts(parts),\n                disabled: isSplitting,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"parts-number\",\n                  children: parts\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1246,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"parts-text\",\n                  children: \"partes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1247,\n                  columnNumber: 23\n                }, this)]\n              }, parts, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1239,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1237,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"parts-explanation\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"explanation-icon\",\n                children: \"\\u2139\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1252,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"explanation-text\",\n                children: [splitParts === 2 && \"Divide cada PDF pela metade\", splitParts === 3 && \"Divide cada PDF em 3 partes iguais\", splitParts === 4 && \"Divide cada PDF em 4 partes iguais\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1253,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1251,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1235,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1230,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `splitter-uploader-container ${dragOverSplitter ? 'drag-over' : ''}`,\n          onDragOver: handleSplitterDragOver,\n          onDragLeave: handleSplitterDragLeave,\n          onDrop: handleSplitterDrop,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"pdf-split-upload\",\n            ref: splitFileInputRef,\n            onChange: handleSplitFileChange,\n            accept: \"application/pdf\",\n            multiple: true,\n            style: {\n              display: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1268,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"pdf-split-upload\",\n            className: `splitter-file-label ${dragOverSplitter ? 'drag-active' : ''}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"splitter-upload-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"splitter-upload-icon\",\n                children: selectedFilesForSplit.length > 0 ? '‚úì' : 'üìé'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1280,\n                columnNumber: 19\n              }, this), selectedFilesForSplit.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"selected-files-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"selected-files-count\",\n                  children: [selectedFilesForSplit.length, \" arquivo\", selectedFilesForSplit.length > 1 ? 's' : '', \" selecionado\", selectedFilesForSplit.length > 1 ? 's' : '']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1285,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"selected-files-size\",\n                  children: [\"Total: \", (selectedFilesForSplit.reduce((acc, file) => acc + file.size, 0) / 1024 / 1024).toFixed(1), \" MB\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1288,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1284,\n                columnNumber: 21\n              }, this) : dragOverSplitter ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"drag-message\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Solte os arquivos PDF aqui\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1294,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1293,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"upload-message\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Selecione ou arraste arquivos PDF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1298,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"upload-hint\",\n                  children: \"Clique aqui ou arraste e solte seus PDFs\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1299,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1297,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1279,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1278,\n            columnNumber: 15\n          }, this), selectedFilesForSplit.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selected-split-files-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Arquivos para Dividir\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1308,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"split-files-actions\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"clear-split-files-button\",\n                onClick: clearAllSplitFiles,\n                disabled: isSplitting,\n                children: \"Remover todos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1310,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1309,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"selected-split-files-list\",\n              children: selectedFilesForSplit.map((file, index) => {\n                const fileSizeMB = file.size / 1024 / 1024;\n                return /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"split-file-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"split-file-name\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"pdf-icon\",\n                      children: \"\\uD83D\\uDCC4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1325,\n                      columnNumber: 29\n                    }, this), file.name, /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"split-file-size\",\n                      children: [\"(\", fileSizeMB.toFixed(1), \" MB)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1327,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1324,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"remove-split-file-button\",\n                    onClick: () => removeSplitFile(index),\n                    disabled: isSplitting,\n                    children: \"\\xD7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1331,\n                    columnNumber: 27\n                  }, this)]\n                }, `split-${file.name}-${index}`, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1323,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1319,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1307,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"splitter-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: splitPDFs,\n              disabled: selectedFilesForSplit.length === 0 || isSplitting,\n              className: `split-button ${isSplitting ? 'loading' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"button-icon\",\n                children: \"\\u2702\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1352,\n                columnNumber: 19\n              }, this), isSplitting ? `Dividindo ${splittingProgress.current}/${splittingProgress.total}...` : `Dividir em ${splitParts} partes (${selectedFilesForSplit.length} PDF${selectedFilesForSplit.length > 1 ? 's' : ''})`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1347,\n              columnNumber: 17\n            }, this), selectedFilesForSplit.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: resetSplitter,\n              className: \"reset-splitter-button\",\n              disabled: isSplitting,\n              children: \"Limpar Sele\\xE7\\xE3o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1361,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1346,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1262,\n          columnNumber: 13\n        }, this), isSplitting && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"split-processing\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"processing-spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1375,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"processing-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"processing-text\",\n              children: [\"Processando: \", splittingProgress.fileName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1377,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"processing-progress\",\n              children: [splittingProgress.current, \" de \", splittingProgress.total, \" arquivos\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1380,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1376,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1374,\n          columnNumber: 15\n        }, this), splitError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"split-error\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-icon\",\n            children: \"\\u2717\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1390,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            className: \"error-text\",\n            children: splitError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1391,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1389,\n          columnNumber: 15\n        }, this), splitSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"split-success\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"success-icon\",\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1398,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"success-text\",\n            children: splitSuccess\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1399,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1397,\n          columnNumber: 15\n        }, this), splitFiles.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"split-results\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"split-results-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"results-icon\",\n                children: \"\\uD83D\\uDCC1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1408,\n                columnNumber: 21\n              }, this), \"Arquivos Gerados (\", splitFiles.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1407,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: downloadAll,\n              className: \"download-all-button\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"button-icon\",\n                children: \"\\u2B07\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1415,\n                columnNumber: 21\n              }, this), \"Baixar Todos\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1411,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1406,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"split-files-grid\",\n            children: splitFiles.map((file, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"split-file-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-card-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"file-card-icon\",\n                  children: \"\\uD83D\\uDCC4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1424,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-card-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"file-card-name\",\n                    children: file.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1426,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"file-card-details\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"file-card-pages\",\n                      children: [file.pages, \" p\\xE1ginas\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1428,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"file-card-part\",\n                      children: [\"Parte \", file.partNumber, \" de \", file.totalParts]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1429,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1427,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"file-card-original\",\n                    children: [\"De: \", file.originalFile]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1431,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1425,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1423,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => downloadFile(file),\n                className: \"download-file-button\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"button-icon\",\n                  children: \"\\u2B07\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1438,\n                  columnNumber: 25\n                }, this), \"Download\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1434,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1422,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1420,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"split-actions-footer\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: resetSplitter,\n              className: \"new-split-button\",\n              children: \"Dividir outros PDFs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1446,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1445,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1405,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"splitter-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Como funciona:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1458,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Selecione um ou mais arquivos PDF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1460,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Escolha em quantas partes dividir (2, 3 ou 4)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1461,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Cada PDF ser\\xE1 dividido no n\\xFAmero de partes selecionado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Se o PDF tiver p\\xE1ginas que n\\xE3o dividem igualmente, algumas partes ter\\xE3o uma p\\xE1gina extra\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1463,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Os arquivos s\\xE3o processados localmente no seu navegador (sem upload para servidor)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1464,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Seus dados permanecem seguros e privados\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1465,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Processe m\\xFAltiplos arquivos de uma vez para economizar tempo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1466,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1459,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1457,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1203,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 918,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\xA9 2025 - Instituto Paulo Godoi - Sistema de Processamento de Exames\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1474,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"api-info\",\n        children: [\"Ambiente: \", (apiStatus === null || apiStatus === void 0 ? void 0 : apiStatus.env) || 'Desconectado', \" | API: \", API_URL]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1475,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1473,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 891,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"Ay4HOc1SnzXGlVt9SQUsmBpvuTw=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","ErrorHandler","jsxDEV","_jsxDEV","Fragment","_Fragment","getApiUrl","window","location","hostname","API_URL","ChunkedUploader","constructor","chunkSize","uploadFile","file","onProgress","size","uploadNormal","uploadChunked","formData","FormData","append","response","fetch","method","body","ok","errorMessage","status","statusText","errorData","json","message","jsonError","Error","totalChunks","Math","ceil","uploadId","Date","now","toString","i","start","end","min","chunk","slice","name","progress","round","finalResponse","headers","JSON","stringify","App","_s","files","setFiles","summaries","setSummaries","patientName","setPatientName","loading","setLoading","error","setError","apiStatus","setApiStatus","uploadStatus","setUploadStatus","processingStage","setProcessingStage","currentProcessingFile","setCurrentProcessingFile","processedFiles","setProcessedFiles","totalFiles","setTotalFiles","dragOver","setDragOver","fileUploadProgress","setFileUploadProgress","uploaderRef","activeTab","setActiveTab","selectedFilesForSplit","setSelectedFilesForSplit","isSplitting","setIsSplitting","splitError","setSplitError","splitSuccess","setSplitSuccess","splitFiles","setSplitFiles","dragOverSplitter","setDragOverSplitter","splittingProgress","setSplittingProgress","current","total","fileName","splitParts","setSplitParts","textAreaRef","fileInputRef","splitFileInputRef","loadPDFLib","PDFLib","script","document","createElement","src","head","appendChild","Promise","resolve","reject","onload","onerror","checkApiStatus","url","data","env","retryApiConnection","setTimeout","handleReset","value","resetSplitter","handleDragOver","e","preventDefault","handleDragLeave","handleDrop","droppedFiles","Array","from","dataTransfer","pdfFiles","filter","type","length","prevFiles","handleSplitterDragOver","handleSplitterDragLeave","handleSplitterDrop","handleFileChange","selectedFiles","target","handleSplitFileChange","removeFile","index","_","removeSplitFile","clearAllFiles","clearAllSplitFiles","splitSinglePDF","parts","arrayBuffer","pdfDoc","loadMethod","PDFDocument","load","firstError","console","log","includes","ignoreEncryption","updateMetadata","throwOnInvalidObject","secondError","commonPasswords","password","passwordError","thirdError","parseSpeed","fourthError","totalPages","getPageCount","pagesPerPart","resultFiles","errors","newPdf","create","startPage","endPage","pageIndices","copiedPages","copyPages","forEach","page","addPage","copyError","warn","pageIndex","copiedPage","singlePageError","push","blankPage","drawText","x","y","getHeight","textError","pdfBytes","save","useObjectStreams","originalName","replace","bytes","pages","blob","Blob","originalFile","partNumber","totalParts","warnings","undefined","partError","join","splitPDFs","allSplitFiles","splitResults","fileWarnings","result","originalError","successCount","successMessage","map","w","encryptedCount","pageCount","downloadFile","fileData","URL","createObjectURL","link","href","download","click","removeChild","revokeObjectURL","downloadAll","handleSubmit","stage","timestamp","toLocaleTimeString","allSummaries","fileErrors","patientNames","fileNumber","fileSizeMB","isLargeFile","substring","prev","fileSummaries","summary","processedAt","details","err","getSimplifiedTextForCopy","resultsByFile","results","lines","content","split","line","trim","match","formattedText","isFirstFile","Object","keys","uniqueResults","Set","copyToClipboard","navigator","clipboard","isSecureContext","writeText","select","execCommand","originalText","style","background","color","calculateProgress","className","children","_jsxFileName","lineNumber","columnNumber","onClick","onRetry","onDragOver","onDragLeave","onDrop","onSubmit","id","ref","onChange","accept","multiple","htmlFor","disabled","isOverLimit","toFixed","some","width","readOnly","placeholder","display","reduce","acc","_c","$RefreshReg$"],"sources":["C:/Users/confi/Downloads/pdf-summarizer/client/src/App.js"],"sourcesContent":["// App.js - Vers√£o com Divisor de PDF Configur√°vel (1, 2, 3 ou 4 partes)\r\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport './App.css';\r\nimport ErrorHandler from './components/ErrorHandler';\r\n\r\n// Fun√ß√£o para determinar a URL da API baseada no ambiente\r\nfunction getApiUrl() {\r\n  if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {\r\n    return 'http://localhost:5000';\r\n  }\r\n   return 'https://server-theta-murex.vercel.app';\r\n}\r\n\r\nconst API_URL = getApiUrl();\r\n\r\nclass ChunkedUploader {\r\n  constructor(chunkSize = 3.5 * 1024 * 1024) { // 3.5MB por chunk\r\n    this.chunkSize = chunkSize;\r\n  }\r\n\r\n  async uploadFile(file, onProgress) {\r\n    if (file.size <= 4 * 1024 * 1024) {\r\n      return this.uploadNormal(file, onProgress);\r\n    } else {\r\n      return this.uploadChunked(file, onProgress);\r\n    }\r\n  }\r\n\r\n  async uploadNormal(file, onProgress) {\r\n    const formData = new FormData();\r\n    formData.append('pdf', file);\r\n    \r\n    const response = await fetch(`${API_URL}/api/upload`, {\r\n      method: 'POST',\r\n      body: formData\r\n    });\r\n    \r\n    if (onProgress) onProgress(100);\r\n    \r\n    if (!response.ok) {\r\n      let errorMessage = `Erro ${response.status}: ${response.statusText}`;\r\n      try {\r\n        const errorData = await response.json();\r\n        if (errorData.message) errorMessage = errorData.message;\r\n      } catch (jsonError) {}\r\n      throw new Error(errorMessage);\r\n    }\r\n    \r\n    return response.json();\r\n  }\r\n\r\n  async uploadChunked(file, onProgress) {\r\n    const totalChunks = Math.ceil(file.size / this.chunkSize);\r\n    const uploadId = Date.now().toString();\r\n    \r\n    for (let i = 0; i < totalChunks; i++) {\r\n      const start = i * this.chunkSize;\r\n      const end = Math.min(start + this.chunkSize, file.size);\r\n      const chunk = file.slice(start, end);\r\n      \r\n      const formData = new FormData();\r\n      formData.append('chunk', chunk);\r\n      formData.append('chunkIndex', i);\r\n      formData.append('totalChunks', totalChunks);\r\n      formData.append('uploadId', uploadId);\r\n      formData.append('fileName', file.name);\r\n      \r\n      const response = await fetch(`${API_URL}/api/upload-chunk`, {\r\n        method: 'POST',\r\n        body: formData\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`Chunk ${i} failed: ${response.statusText}`);\r\n      }\r\n      \r\n      if (onProgress) {\r\n        const progress = ((i + 1) / totalChunks) * 90;\r\n        onProgress(Math.round(progress));\r\n      }\r\n    }\r\n    \r\n    const finalResponse = await fetch(`${API_URL}/api/finalize-upload`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ uploadId })\r\n    });\r\n    \r\n    if (!finalResponse.ok) {\r\n      throw new Error(`Finalization failed: ${finalResponse.statusText}`);\r\n    }\r\n    \r\n    if (onProgress) onProgress(100);\r\n    return finalResponse.json();\r\n  }\r\n}\r\n\r\nfunction App() {\r\n  const [files, setFiles] = useState([]);\r\n  const [summaries, setSummaries] = useState([]);\r\n  const [patientName, setPatientName] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [apiStatus, setApiStatus] = useState(null);\r\n  const [uploadStatus, setUploadStatus] = useState(null);\r\n  const [processingStage, setProcessingStage] = useState(null);\r\n  const [currentProcessingFile, setCurrentProcessingFile] = useState(null);\r\n  const [processedFiles, setProcessedFiles] = useState(0);\r\n  const [totalFiles, setTotalFiles] = useState(0);\r\n  const [dragOver, setDragOver] = useState(false);\r\n  const [fileUploadProgress, setFileUploadProgress] = useState({});\r\n  const uploaderRef = useRef(new ChunkedUploader());\r\n  \r\n  // Estados para o divisor de PDF (modificados para m√∫ltiplos arquivos)\r\n  const [activeTab, setActiveTab] = useState('extractor'); // 'extractor' ou 'splitter'\r\n  const [selectedFilesForSplit, setSelectedFilesForSplit] = useState([]);\r\n  const [isSplitting, setIsSplitting] = useState(false);\r\n  const [splitError, setSplitError] = useState(null);\r\n  const [splitSuccess, setSplitSuccess] = useState(null);\r\n  const [splitFiles, setSplitFiles] = useState([]);\r\n  const [dragOverSplitter, setDragOverSplitter] = useState(false);\r\n  const [splittingProgress, setSplittingProgress] = useState({ current: 0, total: 0, fileName: '' });\r\n  \r\n  // NOVO: Estado para n√∫mero de partes\r\n  const [splitParts, setSplitParts] = useState(2); // Padr√£o: 2 partes\r\n  \r\n  const textAreaRef = useRef(null);\r\n  const fileInputRef = useRef(null);\r\n  const splitFileInputRef = useRef(null);\r\n\r\n  // Fun√ß√£o para carregar PDF-lib dinamicamente\r\n  const loadPDFLib = useCallback(async () => {\r\n    if (window.PDFLib) return window.PDFLib;\r\n    \r\n    const script = document.createElement('script');\r\n    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js';\r\n    document.head.appendChild(script);\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      script.onload = () => {\r\n        if (window.PDFLib) {\r\n          resolve(window.PDFLib);\r\n        } else {\r\n          reject(new Error('Falha ao carregar PDF-lib'));\r\n        }\r\n      };\r\n      script.onerror = () => reject(new Error('Erro ao carregar PDF-lib'));\r\n    });\r\n  }, []);\r\n\r\n  // Verificar status da API ao carregar\r\n  useEffect(() => {\r\n    const checkApiStatus = async () => {\r\n      setApiStatus({ status: 'checking', message: 'Verificando conex√£o...', url: API_URL });\r\n      \r\n      try {\r\n        const response = await fetch(`${API_URL}/api/health`);\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setApiStatus({\r\n            status: 'online',\r\n            env: data.env,\r\n            url: API_URL\r\n          });\r\n        } else {\r\n          setApiStatus({\r\n            status: 'error',\r\n            message: `Erro ${response.status}`,\r\n            url: API_URL\r\n          });\r\n        }\r\n      } catch (error) {\r\n        setApiStatus({\r\n          status: 'offline',\r\n          message: 'Servidor indispon√≠vel',\r\n          error: error.message,\r\n          url: API_URL\r\n        });\r\n      }\r\n    };\r\n\r\n    checkApiStatus();\r\n  }, []);\r\n\r\n  // Fun√ß√£o para reconectar com a API\r\n  const retryApiConnection = useCallback(() => {\r\n    setApiStatus({ status: 'checking', message: 'Reconectando...', url: API_URL });\r\n    setTimeout(async () => {\r\n      try {\r\n        const response = await fetch(`${API_URL}/api/health`);\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setApiStatus({ status: 'online', env: data.env, url: API_URL });\r\n          setError(null);\r\n        } else {\r\n          setApiStatus({ status: 'error', message: `Erro ${response.status}`, url: API_URL });\r\n        }\r\n      } catch (error) {\r\n        setApiStatus({ status: 'offline', message: 'Servidor indispon√≠vel', url: API_URL });\r\n      }\r\n    }, 1000);\r\n  }, []);\r\n\r\n  // Fun√ß√£o para resetar o estado do extrator\r\n  const handleReset = useCallback(() => {\r\n    setSummaries([]);\r\n    setPatientName('');\r\n    setError(null);\r\n    setFiles([]);\r\n    setUploadStatus(null);\r\n    setProcessingStage(null);\r\n    setCurrentProcessingFile(null);\r\n    setProcessedFiles(0);\r\n    setTotalFiles(0);\r\n    \r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  }, []);\r\n\r\n  // Fun√ß√£o para resetar o estado do divisor\r\n  const resetSplitter = useCallback(() => {\r\n    setSelectedFilesForSplit([]);\r\n    setSplitFiles([]);\r\n    setSplitError(null);\r\n    setSplitSuccess(null);\r\n    setSplittingProgress({ current: 0, total: 0, fileName: '' });\r\n    setSplitParts(2); // Reset para valor padr√£o\r\n    if (splitFileInputRef.current) {\r\n      splitFileInputRef.current.value = '';\r\n    }\r\n  }, []);\r\n\r\n  // Handlers para drag and drop do extrator\r\n  const handleDragOver = useCallback((e) => {\r\n    e.preventDefault();\r\n    setDragOver(true);\r\n  }, []);\r\n\r\n  const handleDragLeave = useCallback((e) => {\r\n    e.preventDefault();\r\n    setDragOver(false);\r\n  }, []);\r\n\r\n  const handleDrop = useCallback((e) => {\r\n    e.preventDefault();\r\n    setDragOver(false);\r\n    \r\n    const droppedFiles = Array.from(e.dataTransfer.files);\r\n    const pdfFiles = droppedFiles.filter(file => file.type === 'application/pdf');\r\n    \r\n    if (pdfFiles.length === 0 && droppedFiles.length > 0) {\r\n      setError('Por favor, solte apenas arquivos PDF v√°lidos.');\r\n      setTimeout(() => setError(null), 3000);\r\n      return;\r\n    }\r\n    \r\n    setFiles(prevFiles => [...prevFiles, ...pdfFiles]);\r\n    setError(null);\r\n    setUploadStatus(null);\r\n    setProcessingStage(null);\r\n  }, []);\r\n\r\n  // Handlers para drag and drop do divisor (modificados para m√∫ltiplos arquivos)\r\n  const handleSplitterDragOver = useCallback((e) => {\r\n    e.preventDefault();\r\n    setDragOverSplitter(true);\r\n  }, []);\r\n\r\n  const handleSplitterDragLeave = useCallback((e) => {\r\n    e.preventDefault();\r\n    setDragOverSplitter(false);\r\n  }, []);\r\n\r\n  const handleSplitterDrop = useCallback((e) => {\r\n    e.preventDefault();\r\n    setDragOverSplitter(false);\r\n    \r\n    const droppedFiles = Array.from(e.dataTransfer.files);\r\n    const pdfFiles = droppedFiles.filter(file => file.type === 'application/pdf');\r\n    \r\n    if (pdfFiles.length > 0) {\r\n      setSelectedFilesForSplit(prevFiles => [...prevFiles, ...pdfFiles]);\r\n      setSplitError(null);\r\n      setSplitFiles([]);\r\n      setSplitSuccess(null);\r\n    } else if (droppedFiles.length > 0) {\r\n      setSplitError('Por favor, solte apenas arquivos PDF v√°lidos.');\r\n      setTimeout(() => setSplitError(null), 3000);\r\n    }\r\n  }, []);\r\n\r\n  const handleFileChange = useCallback((e) => {\r\n    const selectedFiles = Array.from(e.target.files);\r\n    setUploadStatus(null);\r\n    setProcessingStage(null);\r\n    \r\n    const pdfFiles = selectedFiles.filter(file => file.type === 'application/pdf');\r\n    \r\n    if (pdfFiles.length === 0 && selectedFiles.length > 0) {\r\n      setError('Por favor, selecione apenas arquivos PDF v√°lidos.');\r\n      setTimeout(() => setError(null), 3000);\r\n      return;\r\n    }\r\n    \r\n    setFiles(prevFiles => [...prevFiles, ...pdfFiles]);\r\n    setError(null);\r\n  }, []);\r\n\r\n  // Modificado para m√∫ltiplos arquivos\r\n  const handleSplitFileChange = useCallback((e) => {\r\n    const selectedFiles = Array.from(e.target.files);\r\n    const pdfFiles = selectedFiles.filter(file => file.type === 'application/pdf');\r\n    \r\n    if (pdfFiles.length > 0) {\r\n      setSelectedFilesForSplit(prevFiles => [...prevFiles, ...pdfFiles]);\r\n      setSplitError(null);\r\n      setSplitFiles([]);\r\n      setSplitSuccess(null);\r\n    } else if (selectedFiles.length > 0) {\r\n      setSplitError('Por favor, selecione apenas arquivos PDF v√°lidos.');\r\n      setTimeout(() => setSplitError(null), 3000);\r\n    }\r\n  }, []);\r\n\r\n  // Fun√ß√£o para remover arquivo do extrator\r\n  const removeFile = useCallback((index) => {\r\n    setFiles(prevFiles => prevFiles.filter((_, i) => i !== index));\r\n  }, []);\r\n\r\n  // Fun√ß√£o para remover arquivo do divisor\r\n  const removeSplitFile = useCallback((index) => {\r\n    setSelectedFilesForSplit(prevFiles => prevFiles.filter((_, i) => i !== index));\r\n  }, []);\r\n\r\n  // Fun√ß√£o para limpar todos os arquivos do extrator\r\n  const clearAllFiles = useCallback(() => {\r\n    setFiles([]);\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  }, []);\r\n\r\n  // Fun√ß√£o para limpar todos os arquivos do divisor\r\n  const clearAllSplitFiles = useCallback(() => {\r\n    setSelectedFilesForSplit([]);\r\n    if (splitFileInputRef.current) {\r\n      splitFileInputRef.current.value = '';\r\n    }\r\n  }, []);\r\n\r\n// MODIFICADO: Fun√ß√£o para dividir um √∫nico PDF com tratamento para PDFs criptografados\r\nconst splitSinglePDF = useCallback(async (file, PDFLib, parts) => {\r\n  const arrayBuffer = await file.arrayBuffer();\r\n  \r\n  // Tentar diferentes estrat√©gias para carregar PDFs criptografados\r\n  let pdfDoc = null;\r\n  let loadMethod = '';\r\n  \r\n  try {\r\n    // Estrat√©gia 1: Tentar carregar normalmente\r\n    pdfDoc = await PDFLib.PDFDocument.load(arrayBuffer);\r\n    loadMethod = 'normal';\r\n  } catch (firstError) {\r\n    console.log(`Erro ao carregar ${file.name} normalmente:`, firstError.message);\r\n    \r\n    // Verificar se √© erro de criptografia\r\n    if (firstError.message && firstError.message.includes('encrypted')) {\r\n      try {\r\n        // Estrat√©gia 2: Ignorar criptografia\r\n        console.log(`Tentando ignorar criptografia para ${file.name}...`);\r\n        pdfDoc = await PDFLib.PDFDocument.load(arrayBuffer, { \r\n          ignoreEncryption: true,\r\n          updateMetadata: false,\r\n          throwOnInvalidObject: false\r\n        });\r\n        loadMethod = 'ignoreEncryption';\r\n      } catch (secondError) {\r\n        console.log(`Falha ao ignorar criptografia para ${file.name}:`, secondError.message);\r\n        \r\n        try {\r\n          // Estrat√©gia 3: Tentar senhas comuns\r\n          console.log(`Tentando senhas comuns para ${file.name}...`);\r\n          const commonPasswords = ['', '1234', 'admin', 'password', 'pdf', 'exame', 'laudo', 'laboratorio', '123456'];\r\n          \r\n          for (const password of commonPasswords) {\r\n            try {\r\n              pdfDoc = await PDFLib.PDFDocument.load(arrayBuffer, { \r\n                password,\r\n                updateMetadata: false,\r\n                throwOnInvalidObject: false\r\n              });\r\n              loadMethod = `senha: \"${password || 'vazia'}\"`;\r\n              break;\r\n            } catch (passwordError) {\r\n              // Continuar tentando pr√≥xima senha\r\n              continue;\r\n            }\r\n          }\r\n          \r\n          if (!pdfDoc) {\r\n            throw new Error('Nenhuma senha comum funcionou');\r\n          }\r\n        } catch (thirdError) {\r\n          console.log(`Falha com senhas comuns para ${file.name}:`, thirdError.message);\r\n          \r\n          try {\r\n            // Estrat√©gia 4: Modo de recupera√ß√£o avan√ßado\r\n            console.log(`Tentando modo de recupera√ß√£o para ${file.name}...`);\r\n            pdfDoc = await PDFLib.PDFDocument.load(arrayBuffer, { \r\n              ignoreEncryption: true,\r\n              throwOnInvalidObject: false,\r\n              updateMetadata: false,\r\n              parseSpeed: 150 // Mais lento, mas mais robusto\r\n            });\r\n            loadMethod = 'recupera√ß√£o';\r\n          } catch (fourthError) {\r\n            // Se todas as estrat√©gias falharam, lan√ßar erro espec√≠fico\r\n            throw new Error(`PDF \"${file.name}\" est√° protegido e n√£o pode ser dividido. Erro: ${firstError.message.includes('encrypted') ? 'Documento criptografado/protegido' : firstError.message}`);\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      // Se n√£o √© erro de criptografia, re-lan√ßar o erro original\r\n      throw new Error(`Erro ao processar \"${file.name}\": ${firstError.message}`);\r\n    }\r\n  }\r\n  \r\n  console.log(`PDF ${file.name} carregado com sucesso usando m√©todo: ${loadMethod}`);\r\n  \r\n  const totalPages = pdfDoc.getPageCount();\r\n  \r\n  if (totalPages < parts) {\r\n    throw new Error(`O PDF \"${file.name}\" deve ter pelo menos ${parts} p√°ginas para ser dividido em ${parts} partes. (P√°ginas encontradas: ${totalPages})`);\r\n  }\r\n\r\n  const pagesPerPart = Math.ceil(totalPages / parts);\r\n  const resultFiles = [];\r\n  const errors = [];\r\n\r\n  for (let i = 0; i < parts; i++) {\r\n    try {\r\n      const newPdf = await PDFLib.PDFDocument.create();\r\n      const startPage = i * pagesPerPart;\r\n      const endPage = Math.min(startPage + pagesPerPart, totalPages);\r\n      \r\n      if (startPage < totalPages) {\r\n        const pageIndices = Array.from({ length: endPage - startPage }, (_, index) => startPage + index);\r\n        \r\n        try {\r\n          const copiedPages = await newPdf.copyPages(pdfDoc, pageIndices);\r\n          copiedPages.forEach(page => newPdf.addPage(page));\r\n        } catch (copyError) {\r\n          console.warn(`Erro ao copiar p√°ginas ${startPage + 1}-${endPage} de ${file.name}:`, copyError.message);\r\n          \r\n          // Tentar copiar p√°gina por p√°gina se a c√≥pia em lote falhar\r\n          for (let pageIndex of pageIndices) {\r\n            try {\r\n              const [copiedPage] = await newPdf.copyPages(pdfDoc, [pageIndex]);\r\n              newPdf.addPage(copiedPage);\r\n            } catch (singlePageError) {\r\n              console.warn(`Erro ao copiar p√°gina ${pageIndex + 1} de ${file.name}:`, singlePageError.message);\r\n              errors.push(`P√°gina ${pageIndex + 1} n√£o p√¥de ser copiada`);\r\n              \r\n              // Adicionar p√°gina em branco como placeholder\r\n              const blankPage = newPdf.addPage();\r\n              try {\r\n                blankPage.drawText(`[P√°gina ${pageIndex + 1} n√£o p√¥de ser recuperada]`, {\r\n                  x: 50,\r\n                  y: blankPage.getHeight() / 2,\r\n                  size: 12\r\n                });\r\n              } catch (textError) {\r\n                // Se nem conseguir adicionar texto, pelo menos a p√°gina em branco fica\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        const pdfBytes = await newPdf.save({\r\n          useObjectStreams: false // Melhor compatibilidade\r\n        });\r\n        \r\n        const originalName = file.name.replace('.pdf', '');\r\n        const fileName = `${originalName}_parte${i + 1}de${parts}.pdf`;\r\n\r\n        resultFiles.push({\r\n          name: fileName,\r\n          bytes: pdfBytes,\r\n          pages: endPage - startPage,\r\n          blob: new Blob([pdfBytes], { type: 'application/pdf' }),\r\n          originalFile: file.name,\r\n          partNumber: i + 1,\r\n          totalParts: parts,\r\n          loadMethod: loadMethod,\r\n          warnings: errors.length > 0 ? errors : undefined\r\n        });\r\n      }\r\n    } catch (partError) {\r\n      console.error(`Erro ao criar parte ${i + 1} de ${file.name}:`, partError.message);\r\n      errors.push(`Parte ${i + 1}: ${partError.message}`);\r\n    }\r\n  }\r\n\r\n  if (resultFiles.length === 0) {\r\n    throw new Error(`N√£o foi poss√≠vel criar nenhuma parte do PDF \"${file.name}\". ${errors.length > 0 ? 'Erros: ' + errors.join(', ') : ''}`);\r\n  }\r\n\r\n  // Se houve alguns erros mas pelo menos uma parte foi criada, incluir aviso\r\n  if (errors.length > 0) {\r\n    console.warn(`Divis√£o de ${file.name} completada com avisos:`, errors);\r\n  }\r\n\r\n  return resultFiles;\r\n}, []);\r\n\r\n// MODIFICADO: Fun√ß√£o principal para dividir PDFs com melhor tratamento de erros\r\nconst splitPDFs = useCallback(async () => {\r\n  if (selectedFilesForSplit.length === 0) {\r\n    setSplitError('Por favor, selecione pelo menos um arquivo PDF primeiro.');\r\n    return;\r\n  }\r\n\r\n  setIsSplitting(true);\r\n  setSplitError(null);\r\n  setSplitSuccess(null);\r\n  setSplitFiles([]);\r\n  setSplittingProgress({ current: 0, total: selectedFilesForSplit.length, fileName: '' });\r\n\r\n  try {\r\n    const PDFLib = await loadPDFLib();\r\n    const allSplitFiles = [];\r\n    const errors = [];\r\n    const warnings = [];\r\n\r\n    for (let i = 0; i < selectedFilesForSplit.length; i++) {\r\n      const file = selectedFilesForSplit[i];\r\n      setSplittingProgress({ \r\n        current: i + 1, \r\n        total: selectedFilesForSplit.length, \r\n        fileName: file.name \r\n      });\r\n\r\n      try {\r\n        const splitResults = await splitSinglePDF(file, PDFLib, splitParts);\r\n        \r\n        // Verificar se h√° avisos nas partes criadas\r\n        const fileWarnings = [];\r\n        splitResults.forEach(result => {\r\n          if (result.warnings && result.warnings.length > 0) {\r\n            fileWarnings.push(...result.warnings);\r\n          }\r\n        });\r\n        \r\n        if (fileWarnings.length > 0) {\r\n          warnings.push({\r\n            fileName: file.name,\r\n            warnings: fileWarnings\r\n          });\r\n        }\r\n        \r\n        allSplitFiles.push(...splitResults);\r\n        console.log(`‚úÖ ${file.name} dividido com sucesso em ${splitResults.length} partes`);\r\n        \r\n      } catch (error) {\r\n        console.error(`‚ùå Erro ao dividir ${file.name}:`, error);\r\n        \r\n        // Categorizar tipos de erro para mensagens mais √∫teis\r\n        let errorMessage = error.message;\r\n        if (error.message.includes('criptografado') || error.message.includes('encrypted')) {\r\n          errorMessage = 'PDF protegido/criptografado - n√£o pode ser dividido';\r\n        } else if (error.message.includes('p√°ginas')) {\r\n          errorMessage = 'PDF tem poucas p√°ginas para divis√£o selecionada';\r\n        } else if (error.message.includes('corrupted') || error.message.includes('invalid')) {\r\n          errorMessage = 'PDF corrompido ou formato inv√°lido';\r\n        }\r\n        \r\n        errors.push({ \r\n          fileName: file.name, \r\n          error: errorMessage,\r\n          originalError: error.message\r\n        });\r\n      }\r\n    }\r\n\r\n    setSplitFiles(allSplitFiles);\r\n\r\n    // Construir mensagens de status baseadas nos resultados\r\n    const successCount = selectedFilesForSplit.length - errors.length;\r\n    let successMessage = '';\r\n    let errorMessage = '';\r\n\r\n    if (errors.length === 0) {\r\n      successMessage = `üéâ Todos os ${selectedFilesForSplit.length} PDFs foram divididos em ${splitParts} partes com sucesso! Total de ${allSplitFiles.length} arquivos gerados.`;\r\n      \r\n      if (warnings.length > 0) {\r\n        successMessage += ` ‚ö†Ô∏è Alguns arquivos tiveram p√°ginas problem√°ticas que foram substitu√≠das por p√°ginas em branco.`;\r\n      }\r\n    } else if (allSplitFiles.length > 0) {\r\n      successMessage = `‚úÖ ${successCount} de ${selectedFilesForSplit.length} PDFs foram divididos com sucesso. Total de ${allSplitFiles.length} arquivos gerados.`;\r\n      \r\n      errorMessage = `‚ùå Arquivos que n√£o puderam ser processados:\\n${errors.map(e => `‚Ä¢ ${e.fileName}: ${e.error}`).join('\\n')}`;\r\n      \r\n      if (warnings.length > 0) {\r\n        errorMessage += `\\n\\n‚ö†Ô∏è Arquivos com avisos:\\n${warnings.map(w => `‚Ä¢ ${w.fileName}: ${w.warnings.join(', ')}`).join('\\n')}`;\r\n      }\r\n    } else {\r\n      errorMessage = `‚ùå Nenhum arquivo p√¥de ser processado:\\n${errors.map(e => `‚Ä¢ ${e.fileName}: ${e.error}`).join('\\n')}`;\r\n      \r\n      // Adicionar dicas baseadas nos tipos de erro\r\n      const encryptedCount = errors.filter(e => e.error.includes('protegido') || e.error.includes('criptografado')).length;\r\n      const pageCount = errors.filter(e => e.error.includes('p√°ginas')).length;\r\n      \r\n      if (encryptedCount > 0) {\r\n        errorMessage += `\\n\\nüí° Dica: ${encryptedCount} arquivo(s) est√£o protegidos. Tente:`;\r\n        errorMessage += `\\n‚Ä¢ Remover a prote√ß√£o usando outro software`;\r\n        errorMessage += `\\n‚Ä¢ Imprimir para PDF para criar vers√£o n√£o protegida`;\r\n        errorMessage += `\\n‚Ä¢ Usar o extrator de resultados que pode processar PDFs protegidos`;\r\n      }\r\n      \r\n      if (pageCount > 0) {\r\n        errorMessage += `\\n\\nüìÑ Dica: ${pageCount} arquivo(s) t√™m poucas p√°ginas. Tente:`;\r\n        errorMessage += `\\n‚Ä¢ Reduzir o n√∫mero de partes para divis√£o`;\r\n        errorMessage += `\\n‚Ä¢ Verificar se o PDF tem o conte√∫do esperado`;\r\n      }\r\n    }\r\n\r\n    if (successMessage) setSplitSuccess(successMessage);\r\n    if (errorMessage) setSplitError(errorMessage);\r\n\r\n  } catch (error) {\r\n    console.error('‚ùå Erro ao carregar PDF-lib:', error);\r\n    setSplitError('‚ùå Erro ao carregar a biblioteca de processamento de PDF. Tente recarregar a p√°gina.');\r\n  } finally {\r\n    setIsSplitting(false);\r\n    setSplittingProgress({ current: 0, total: 0, fileName: '' });\r\n  }\r\n}, [selectedFilesForSplit, loadPDFLib, splitSinglePDF, splitParts]);\r\n\r\n  // Fun√ß√£o para download de arquivo\r\n  const downloadFile = useCallback((fileData) => {\r\n    const url = URL.createObjectURL(fileData.blob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = fileData.name;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    URL.revokeObjectURL(url);\r\n  }, []);\r\n\r\n  // Fun√ß√£o para download de todos os arquivos\r\n  const downloadAll = useCallback(() => {\r\n    splitFiles.forEach((fileData, index) => {\r\n      setTimeout(() => downloadFile(fileData), index * 100);\r\n    });\r\n  }, [splitFiles, downloadFile]);\r\n\r\n// Fun√ß√£o principal de upload e processamento (MODIFICADA para chunked upload)\r\nconst handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n  if (files.length === 0) {\r\n    setError('Por favor, selecione pelo menos um arquivo PDF v√°lido.');\r\n    setTimeout(() => setError(null), 3000);\r\n    return;\r\n  }\r\n\r\n  setLoading(true);\r\n  setError(null);\r\n  setUploadStatus({ \r\n    stage: 'iniciando', \r\n    message: 'Iniciando processamento...',\r\n    timestamp: new Date().toLocaleTimeString()\r\n  });\r\n  setProcessingStage('upload');\r\n  setTotalFiles(files.length);\r\n  setProcessedFiles(0);\r\n  setFileUploadProgress({});\r\n\r\n  const allSummaries = [];\r\n  const fileErrors = [];\r\n  const patientNames = {};\r\n\r\n  for (let i = 0; i < files.length; i++) {\r\n    const file = files[i];\r\n    const fileNumber = i + 1;\r\n    setCurrentProcessingFile(file.name);\r\n    \r\n    try {\r\n      const fileSizeMB = file.size / 1024 / 1024;\r\n      const isLargeFile = fileSizeMB > 4;\r\n      \r\n      setUploadStatus({ \r\n        stage: 'enviando', \r\n        message: `${isLargeFile ? 'Enviando em partes' : 'Enviando'} ${fileNumber}/${files.length}: ${file.name.substring(0, 30)}${file.name.length > 30 ? '...' : ''}`,\r\n        timestamp: new Date().toLocaleTimeString()\r\n      });\r\n      \r\n      // NOVO: Usar chunked uploader em vez de fetch direto\r\n      const data = await uploaderRef.current.uploadFile(file, (progress) => {\r\n        setFileUploadProgress(prev => ({\r\n          ...prev,\r\n          [file.name]: progress\r\n        }));\r\n      });\r\n      \r\n      setProcessingStage('processing');\r\n      setUploadStatus({ \r\n        stage: 'processando', \r\n        message: `Processando ${fileNumber}/${files.length}: Extraindo dados...`,\r\n        timestamp: new Date().toLocaleTimeString()\r\n      });\r\n      \r\n      if (!data.summaries || data.summaries.length === 0) {\r\n        throw new Error(`N√£o foi poss√≠vel extrair informa√ß√µes do documento ${file.name}.`);\r\n      }\r\n      \r\n      if (data.patientName) {\r\n        patientNames[file.name] = data.patientName;\r\n      }\r\n      \r\n      const fileSummaries = data.summaries.map(summary => ({\r\n        ...summary,\r\n        fileName: file.name,\r\n        patientName: data.patientName,\r\n        processedAt: new Date().toLocaleTimeString()\r\n      }));\r\n      \r\n      allSummaries.push(...fileSummaries);\r\n      \r\n      if (i === 0 && data.patientName) {\r\n        setPatientName(data.patientName);\r\n      }\r\n      \r\n      setProcessedFiles(i + 1);\r\n      \r\n    } catch (error) {\r\n      console.error(`Erro ao processar ${file.name}:`, error);\r\n      fileErrors.push({ \r\n        fileName: file.name, \r\n        error: error.message,\r\n        timestamp: new Date().toLocaleTimeString()\r\n      });\r\n    }\r\n  }\r\n  \r\n  setProcessingStage('complete');\r\n  \r\n  if (allSummaries.length > 0) {\r\n    setSummaries(allSummaries);\r\n    \r\n    if (fileErrors.length > 0) {\r\n      setUploadStatus({ \r\n        stage: 'aviso', \r\n        message: `Processados ${allSummaries.length} resultados de ${files.length - fileErrors.length}/${files.length} arquivos.`,\r\n        details: `Conclu√≠do √†s ${new Date().toLocaleTimeString()}`,\r\n        timestamp: new Date().toLocaleTimeString()\r\n      });\r\n      \r\n      const errorMessage = fileErrors.map(err => \r\n        `${err.fileName}: ${err.error}`\r\n      ).join('\\n');\r\n      setError(`Alguns arquivos n√£o puderam ser processados:\\n\\n${errorMessage}`);\r\n    } else {\r\n      setUploadStatus({ \r\n        stage: 'sucesso', \r\n        message: `Processamento conclu√≠do! ${allSummaries.length} resultados de ${files.length} arquivos.`,\r\n        details: `Finalizado √†s ${new Date().toLocaleTimeString()}`,\r\n        timestamp: new Date().toLocaleTimeString()\r\n      });\r\n      setError(null);\r\n    }\r\n  } else {\r\n    setUploadStatus({ \r\n      stage: 'erro', \r\n      message: 'Nenhum resultado foi extra√≠do dos arquivos.',\r\n      details: `Falha √†s ${new Date().toLocaleTimeString()}`,\r\n      timestamp: new Date().toLocaleTimeString()\r\n    });\r\n    \r\n    const errorMessage = fileErrors.map(err => \r\n      `${err.fileName}: ${err.error}`\r\n    ).join('\\n');\r\n    setError(`Falha ao processar todos os arquivos:\\n\\n${errorMessage}`);\r\n  }\r\n  \r\n  setLoading(false);\r\n  setCurrentProcessingFile(null);\r\n  setFileUploadProgress({});\r\n};\r\n\r\n  // Gerar texto formatado para c√≥pia\r\n  const getSimplifiedTextForCopy = useCallback(() => {\r\n    if (summaries.length === 0) return '';\r\n    \r\n    const resultsByFile = {};\r\n    \r\n    summaries.forEach((summary) => {\r\n      const fileName = summary.fileName || 'arquivo_desconhecido';\r\n      \r\n      if (!resultsByFile[fileName]) {\r\n        resultsByFile[fileName] = {\r\n          patientName: summary.patientName || patientName || \"Paciente\",\r\n          results: [],\r\n          processedAt: summary.processedAt\r\n        };\r\n      }\r\n      \r\n      const lines = summary.content.split('\\n');\r\n      lines.forEach((line) => {\r\n        if (line.trim() && \r\n            !line.match(/^S√âRIE|^HEMOGRAMA|^EXAMES/i) && \r\n            !line.match(/^Paciente:/i)) {\r\n          resultsByFile[fileName].results.push(line.trim());\r\n        }\r\n      });\r\n    });\r\n    \r\n    let formattedText = '';\r\n    let isFirstFile = true;\r\n    \r\n    Object.keys(resultsByFile).forEach((fileName) => {\r\n      if (!isFirstFile) {\r\n        formattedText += '\\n\\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\\n\\n';\r\n      } else {\r\n        isFirstFile = false;\r\n      }\r\n      \r\n      const fileData = resultsByFile[fileName];\r\n      if (fileData.patientName) {\r\n        formattedText += `PACIENTE: ${fileData.patientName}\\n`;\r\n        if (fileData.processedAt) {\r\n          formattedText += `Processado √†s: ${fileData.processedAt}\\n`;\r\n        }\r\n        formattedText += '\\n';\r\n      }\r\n      \r\n      const uniqueResults = [...new Set(fileData.results)];\r\n      uniqueResults.forEach(result => {\r\n        formattedText += `${result}\\n`;\r\n      });\r\n    });\r\n    \r\n    return formattedText;\r\n  }, [summaries, patientName]);\r\n\r\n  const copyToClipboard = useCallback(async () => {\r\n    if (textAreaRef.current) {\r\n      try {\r\n        if (navigator.clipboard && window.isSecureContext) {\r\n          await navigator.clipboard.writeText(textAreaRef.current.value);\r\n        } else {\r\n          textAreaRef.current.select();\r\n          document.execCommand('copy');\r\n        }\r\n        \r\n        const originalText = textAreaRef.current.value;\r\n        textAreaRef.current.value = 'Resultados copiados com sucesso!';\r\n        textAreaRef.current.style.background = '#f0fdf4';\r\n        textAreaRef.current.style.color = '#166534';\r\n        \r\n        setTimeout(() => {\r\n          textAreaRef.current.value = originalText;\r\n          textAreaRef.current.style.background = '';\r\n          textAreaRef.current.style.color = '';\r\n        }, 2000);\r\n        \r\n      } catch (err) {\r\n        console.error('Erro ao copiar:', err);\r\n        const originalText = textAreaRef.current.value;\r\n        textAreaRef.current.value = 'Erro ao copiar. Tente selecionar manualmente.';\r\n        textAreaRef.current.style.background = '#fef2f2';\r\n        textAreaRef.current.style.color = '#dc2626';\r\n        \r\n        setTimeout(() => {\r\n          textAreaRef.current.value = originalText;\r\n          textAreaRef.current.style.background = '';\r\n          textAreaRef.current.style.color = '';\r\n        }, 3000);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Calcular progresso\r\n  const calculateProgress = useCallback(() => {\r\n    if (totalFiles === 0) return 0;\r\n    return Math.round((processedFiles / totalFiles) * 100);\r\n  }, [processedFiles, totalFiles]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <div className=\"institute-logo\">\r\n          <span className=\"logo-text\">Instituto Paulo Godoi</span>\r\n        </div>\r\n        <h1>Sistema de Processamento de Documentos</h1>\r\n        <p className=\"subtitle\">Extra√ß√£o de resultados e ferramentas para PDFs laboratoriais</p>\r\n        \r\n        \r\n        {apiStatus && (\r\n          <div className={`api-status ${apiStatus.status}`}>\r\n            <span className=\"status-indicator\"></span>\r\n            {apiStatus.status === 'online' ? (\r\n              <span>Conectado ({apiStatus.env})</span>\r\n            ) : apiStatus.status === 'checking' ? (\r\n              <span>Verificando...</span>\r\n            ) : (\r\n              <span>{apiStatus.message}\r\n                <button className=\"retry-button\" onClick={retryApiConnection}>\r\n                  Tentar novamente\r\n                </button>\r\n              </span>\r\n            )}\r\n          </div>\r\n        )}\r\n      </header>\r\n      \r\n      <main>\r\n        {/* Error Handler para problemas de API */}\r\n        {(apiStatus?.status === 'offline' || apiStatus?.status === 'error') && activeTab === 'extractor' && (\r\n          <ErrorHandler \r\n            error={`N√£o foi poss√≠vel conectar ao servidor. ${apiStatus.message}`}\r\n            onRetry={retryApiConnection}\r\n          />\r\n        )}\r\n\r\n        {/* Navega√ß√£o por Abas */}\r\n        <div className=\"tab-navigation\">\r\n          <button \r\n            className={`tab-button ${activeTab === 'extractor' ? 'active' : ''}`}\r\n            onClick={() => setActiveTab('extractor')}\r\n          >\r\n            <span className=\"tab-icon\">üìã</span>\r\n            Extrator de Resultados\r\n          </button>\r\n          <button \r\n            className={`tab-button ${activeTab === 'splitter' ? 'active' : ''}`}\r\n            onClick={() => setActiveTab('splitter')}\r\n          >\r\n            <span className=\"tab-icon\">‚úÇÔ∏è</span>\r\n            Divisor de PDF\r\n          </button>\r\n        </div>\r\n\r\n        {/* Conte√∫do da aba Extrator */}\r\n        {activeTab === 'extractor' && (\r\n          <>\r\n            {/* Aviso sobre limite de tamanho */}\r\n            <div className=\"size-warning-card\">\r\n              <div className=\"warning-header\">\r\n                <span className=\"warning-icon\">‚ö†Ô∏è</span>\r\n                <h3>Limite de Tamanho para Extra√ß√£o</h3>\r\n              </div>\r\n              <div className=\"warning-content\">\r\n                <p>\r\n                  <strong>PDFs com mais de 4MB precisam ser divididos antes da extra√ß√£o.</strong>\r\n                </p>\r\n                <p>\r\n                  Use a aba <button \r\n                    className=\"tab-link-button\" \r\n                    onClick={() => setActiveTab('splitter')}\r\n                  >\r\n                    ‚úÇÔ∏è Divisor de PDF\r\n                  </button> para cortar arquivos grandes em partes menores.\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div \r\n              className={`uploader-container ${dragOver ? 'drag-over' : ''}`}\r\n              onDragOver={handleDragOver}\r\n              onDragLeave={handleDragLeave}\r\n              onDrop={handleDrop}\r\n            >\r\n              <form onSubmit={handleSubmit}>\r\n                <div className=\"file-input-container\">\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"pdf-upload\"\r\n                    ref={fileInputRef}\r\n                    onChange={handleFileChange}\r\n                    accept=\"application/pdf\"\r\n                    multiple\r\n                  />\r\n                  <label htmlFor=\"pdf-upload\" className={`file-label ${dragOver ? 'drag-active' : ''}`}>\r\n                    {dragOver ? (\r\n                      'Solte os arquivos PDF aqui'\r\n                    ) : files.length > 0 ? (\r\n                      `${files.length} arquivo(s) selecionado(s)`\r\n                    ) : (\r\n                      'Escolher arquivos PDF ou arrastar aqui'\r\n                    )}\r\n                  </label>\r\n                </div>\r\n                \r\n                {/* Lista de arquivos selecionados */}\r\n                {files.length > 0 && (\r\n                  <div className=\"selected-files-container\">\r\n                    <h3>Arquivos Selecionados</h3>\r\n                    <div className=\"files-actions\">\r\n                      <button \r\n                        type=\"button\" \r\n                        className=\"clear-files-button\" \r\n                        onClick={clearAllFiles}\r\n                        disabled={loading}\r\n                      >\r\n                        Remover todos\r\n                      </button>\r\n                    </div>\r\n                    <ul className=\"selected-files-list\">\r\n                      {files.map((file, index) => {\r\n                        const fileSizeMB = file.size / 1024 / 1024;\r\n                        const isOverLimit = fileSizeMB > 4;\r\n                        return (\r\n                          <li key={`${file.name}-${index}`} className={`file-item ${isOverLimit ? 'file-over-limit' : ''}`}>\r\n                            <span className=\"file-name\">\r\n                              <span className=\"pdf-icon\">üìÑ</span>\r\n                              {file.name}\r\n                              <span className={`file-size ${isOverLimit ? 'size-warning' : ''}`}>\r\n                                ({fileSizeMB.toFixed(1)} MB)\r\n                                {isOverLimit && <span className=\"size-alert\">‚ö†Ô∏è Muito grande</span>}\r\n                              </span>\r\n                            </span>\r\n                            <button \r\n                              type=\"button\" \r\n                              className=\"remove-file-button\" \r\n                              onClick={() => removeFile(index)}\r\n                              disabled={loading}\r\n                            >\r\n                              √ó\r\n                            </button>\r\n                          </li>\r\n                        );\r\n                      })}\r\n                    </ul>\r\n                    {files.some(file => file.size / 1024 / 1024 > 4) && (\r\n                      <div className=\"file-size-alert\">\r\n                        <span className=\"alert-icon\">‚ö†Ô∏è</span>\r\n                        <div className=\"alert-content\">\r\n                          <strong>Arquivos muito grandes detectados!</strong>\r\n                          <p>PDFs com mais de 4MB podem falhar na extra√ß√£o. \r\n                             <button \r\n                               className=\"alert-link-button\" \r\n                               onClick={() => setActiveTab('splitter')}\r\n                             >\r\n                               Clique aqui para dividir os arquivos grandes\r\n                             </button> antes de extrair os resultados.\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                \r\n                <button \r\n                  type=\"submit\" \r\n                  className={`upload-button ${loading ? 'loading' : ''}`}\r\n                  disabled={files.length === 0 || apiStatus?.status !== 'online' || loading}\r\n                >\r\n                  {loading ? 'Processando...' : 'Extrair Resultados'}\r\n                </button>\r\n              </form>\r\n              \r\n              {/* Barra de progresso */}\r\n              {(processingStage === 'upload' || processingStage === 'processing') && (\r\n                <div className=\"progress-bar-container\">\r\n                  <div className=\"progress-bar\">\r\n                    <div \r\n                      className=\"progress-indicator\" \r\n                      style={{ width: `${calculateProgress()}%` }}\r\n                    ></div>\r\n                  </div>\r\n                  <div className=\"progress-status\">\r\n                    {currentProcessingFile ? (\r\n                      `${processingStage === 'upload' ? 'Enviando' : 'Processando'}: ${\r\n                        currentProcessingFile.length > 30 ? \r\n                        currentProcessingFile.substring(0, 30) + '...' : \r\n                        currentProcessingFile\r\n                      } (${processedFiles + 1}/${totalFiles})`\r\n                    ) : (\r\n                      processingStage === 'upload' ? 'Enviando arquivo...' : 'Processando documento...'\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              {/* Status de upload */}\r\n              {uploadStatus && (\r\n                <div className={`upload-status ${uploadStatus.stage}`}>\r\n                  <span className=\"status-icon\">\r\n                    {uploadStatus.stage === 'sucesso' ? '‚úì' : \r\n                    uploadStatus.stage === 'erro' ? '‚úó' : \r\n                    uploadStatus.stage === 'aviso' ? '!' : '‚ü≥'}\r\n                  </span>\r\n                  <div className=\"status-content\">\r\n                    <div className=\"status-message\">{uploadStatus.message}</div>\r\n                    {uploadStatus.details && (\r\n                      <div className=\"status-details\">{uploadStatus.details}</div>\r\n                    )}\r\n                    {uploadStatus.timestamp && (\r\n                      <div className=\"status-timestamp\">{uploadStatus.timestamp}</div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              {/* Dicas para PDFs problem√°ticos */}\r\n              {uploadStatus && uploadStatus.stage === 'erro' && (\r\n                <div className=\"pdf-tips\">\r\n                  <h4>Poss√≠veis solu√ß√µes:</h4>\r\n                  <ul>\r\n                    <li>Verifique se os PDFs n√£o est√£o protegidos por senha</li>\r\n                    <li>Tente salvar os PDFs novamente usando \"Salvar como\"</li>\r\n                    <li>Se poss√≠vel, imprima os documentos para novos PDFs</li>\r\n                    <li>Entre em contato com o laborat√≥rio para vers√µes alternativas</li>\r\n                  </ul>\r\n                </div>\r\n              )}\r\n              \r\n              {/* Aviso para processamento parcial */}\r\n              {uploadStatus && uploadStatus.stage === 'aviso' && (\r\n                <div className=\"processing-notice\">\r\n                  <p>Os documentos foram processados, mas alguns podem conter imprecis√µes.</p>\r\n                  <p>Verifique os resultados antes de usar.</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {loading && !processingStage && (\r\n              <p className=\"loading\">Processando documentos, aguarde...</p>\r\n            )}\r\n            \r\n            {error && !uploadStatus && (\r\n              <p className=\"error\">{error}</p>\r\n            )}\r\n            \r\n            {/* Detalhes de erros */}\r\n            {error && uploadStatus && (\r\n              <div className=\"file-errors\">\r\n                <details>\r\n                  <summary>Detalhes dos erros</summary>\r\n                  <pre className=\"error-details\">{error}</pre>\r\n                </details>\r\n              </div>\r\n            )}\r\n            \r\n            {/* Bot√£o de reset */}\r\n            {summaries.length > 0 && (\r\n              <div className=\"reset-button-container\">\r\n                <button \r\n                  className=\"reset-button\"\r\n                  onClick={handleReset}\r\n                  disabled={loading}\r\n                >\r\n                  Processar novos documentos\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"summary-container\">\r\n              {summaries.length === 0 ? (\r\n                <div className=\"empty-message\">\r\n                  <p>Os resultados dos exames aparecer√£o aqui.</p>\r\n                  <p>Selecione arquivos PDF para come√ßar.</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-view-container\">\r\n                  <h2>Resultados Extra√≠dos</h2>\r\n                  {summaries.length > 0 && (\r\n                    <div className=\"summary-info\">\r\n                      <span className=\"file-count\">{summaries.length} resultados extra√≠dos</span>\r\n                      {files.length > 1 && (\r\n                        <span className=\"multi-file-notice\">de {files.length} arquivos</span>\r\n                      )}\r\n                      <span className=\"extraction-time\">√†s {new Date().toLocaleTimeString()}</span>\r\n                    </div>\r\n                  )}\r\n                  <p className=\"copy-instructions\">Lista de resultados pronta para copiar:</p>\r\n                  <div className=\"text-area-container\">\r\n                    <textarea\r\n                      ref={textAreaRef}\r\n                      className=\"results-text-area\"\r\n                      value={getSimplifiedTextForCopy()}\r\n                      readOnly\r\n                      placeholder=\"Os resultados aparecer√£o aqui...\"\r\n                    />\r\n                    <button \r\n                      onClick={copyToClipboard} \r\n                      className=\"copy-button\"\r\n                      disabled={summaries.length === 0}\r\n                    >\r\n                      Copiar para √°rea de transfer√™ncia\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* Conte√∫do da aba Divisor de PDF */}\r\n        {activeTab === 'splitter' && (\r\n          <div className=\"pdf-splitter-section\">\r\n            <div className=\"splitter-intro\">\r\n              <h2>\r\n                <span className=\"section-icon\">‚úÇÔ∏è</span>\r\n                Divisor de PDF\r\n              </h2>\r\n              <p className=\"section-description\">\r\n                <strong>Divida m√∫ltiplos PDFs grandes em partes menores para extra√ß√£o.</strong> \r\n                Arquivos com mais de 4MB devem ser divididos antes de usar o extrator de resultados.\r\n              </p>\r\n              <div className=\"splitter-benefits\">\r\n                <div className=\"benefit-item\">\r\n                  <span className=\"benefit-icon\">üéØ</span>\r\n                  <span>Processe v√°rios PDFs de uma s√≥ vez</span>\r\n                </div>\r\n                <div className=\"benefit-item\">\r\n                  <span className=\"benefit-icon\">üîí</span>\r\n                  <span>Processamento 100% local e seguro</span>\r\n                </div>\r\n                <div className=\"benefit-item\">\r\n                  <span className=\"benefit-icon\">‚ö°</span>\r\n                  <span>Divis√£o r√°pida e autom√°tica</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* NOVO: Seletor de n√∫mero de partes */}\r\n            <div className=\"split-options-container\">\r\n              <h3 className=\"split-options-title\">\r\n                <span className=\"options-icon\">‚öôÔ∏è</span>\r\n                Configura√ß√µes de Divis√£o\r\n              </h3>\r\n              <div className=\"split-parts-selector\">\r\n                <label className=\"parts-label\">Dividir cada PDF em:</label>\r\n                <div className=\"parts-buttons-container\">\r\n                  {[2, 3, 4].map((parts) => (\r\n                    <button\r\n                      key={parts}\r\n                      type=\"button\"\r\n                      className={`parts-button ${splitParts === parts ? 'active' : ''}`}\r\n                      onClick={() => setSplitParts(parts)}\r\n                      disabled={isSplitting}\r\n                    >\r\n                      <span className=\"parts-number\">{parts}</span>\r\n                      <span className=\"parts-text\">partes</span>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n                <div className=\"parts-explanation\">\r\n                  <span className=\"explanation-icon\">‚ÑπÔ∏è</span>\r\n                  <span className=\"explanation-text\">\r\n                    {splitParts === 2 && \"Divide cada PDF pela metade\"}\r\n                    {splitParts === 3 && \"Divide cada PDF em 3 partes iguais\"}\r\n                    {splitParts === 4 && \"Divide cada PDF em 4 partes iguais\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div \r\n              className={`splitter-uploader-container ${dragOverSplitter ? 'drag-over' : ''}`}\r\n              onDragOver={handleSplitterDragOver}\r\n              onDragLeave={handleSplitterDragLeave}\r\n              onDrop={handleSplitterDrop}\r\n            >\r\n              <input\r\n                type=\"file\"\r\n                id=\"pdf-split-upload\"\r\n                ref={splitFileInputRef}\r\n                onChange={handleSplitFileChange}\r\n                accept=\"application/pdf\"\r\n                multiple\r\n                style={{ display: 'none' }}\r\n              />\r\n              \r\n              <label htmlFor=\"pdf-split-upload\" className={`splitter-file-label ${dragOverSplitter ? 'drag-active' : ''}`}>\r\n                <div className=\"splitter-upload-content\">\r\n                  <span className=\"splitter-upload-icon\">\r\n                    {selectedFilesForSplit.length > 0 ? '‚úì' : 'üìé'}\r\n                  </span>\r\n                  {selectedFilesForSplit.length > 0 ? (\r\n                    <div className=\"selected-files-info\">\r\n                      <p className=\"selected-files-count\">\r\n                        {selectedFilesForSplit.length} arquivo{selectedFilesForSplit.length > 1 ? 's' : ''} selecionado{selectedFilesForSplit.length > 1 ? 's' : ''}\r\n                      </p>\r\n                      <p className=\"selected-files-size\">\r\n                        Total: {(selectedFilesForSplit.reduce((acc, file) => acc + file.size, 0) / 1024 / 1024).toFixed(1)} MB\r\n                      </p>\r\n                    </div>\r\n                  ) : dragOverSplitter ? (\r\n                    <div className=\"drag-message\">\r\n                      <p>Solte os arquivos PDF aqui</p>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"upload-message\">\r\n                      <p>Selecione ou arraste arquivos PDF</p>\r\n                      <span className=\"upload-hint\">Clique aqui ou arraste e solte seus PDFs</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </label>\r\n\r\n              {/* Lista de arquivos selecionados para dividir */}\r\n              {selectedFilesForSplit.length > 0 && (\r\n                <div className=\"selected-split-files-container\">\r\n                  <h3>Arquivos para Dividir</h3>\r\n                  <div className=\"split-files-actions\">\r\n                    <button \r\n                      type=\"button\" \r\n                      className=\"clear-split-files-button\" \r\n                      onClick={clearAllSplitFiles}\r\n                      disabled={isSplitting}\r\n                    >\r\n                      Remover todos\r\n                    </button>\r\n                  </div>\r\n                  <ul className=\"selected-split-files-list\">\r\n                    {selectedFilesForSplit.map((file, index) => {\r\n                      const fileSizeMB = file.size / 1024 / 1024;\r\n                      return (\r\n                        <li key={`split-${file.name}-${index}`} className=\"split-file-item\">\r\n                          <span className=\"split-file-name\">\r\n                            <span className=\"pdf-icon\">üìÑ</span>\r\n                            {file.name}\r\n                            <span className=\"split-file-size\">\r\n                              ({fileSizeMB.toFixed(1)} MB)\r\n                            </span>\r\n                          </span>\r\n                          <button \r\n                            type=\"button\" \r\n                            className=\"remove-split-file-button\" \r\n                            onClick={() => removeSplitFile(index)}\r\n                            disabled={isSplitting}\r\n                          >\r\n                            √ó\r\n                          </button>\r\n                        </li>\r\n                      );\r\n                    })}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"splitter-actions\">\r\n                <button\r\n                  onClick={splitPDFs}\r\n                  disabled={selectedFilesForSplit.length === 0 || isSplitting}\r\n                  className={`split-button ${isSplitting ? 'loading' : ''}`}\r\n                >\r\n                  <span className=\"button-icon\">‚úÇÔ∏è</span>\r\n                  {isSplitting ? (\r\n                    `Dividindo ${splittingProgress.current}/${splittingProgress.total}...`\r\n                  ) : (\r\n                    `Dividir em ${splitParts} partes (${selectedFilesForSplit.length} PDF${selectedFilesForSplit.length > 1 ? 's' : ''})`\r\n                  )}\r\n                </button>\r\n\r\n                {selectedFilesForSplit.length > 0 && (\r\n                  <button\r\n                    onClick={resetSplitter}\r\n                    className=\"reset-splitter-button\"\r\n                    disabled={isSplitting}\r\n                  >\r\n                    Limpar Sele√ß√£o\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Indicador de processamento com progresso */}\r\n            {isSplitting && (\r\n              <div className=\"split-processing\">\r\n                <div className=\"processing-spinner\"></div>\r\n                <div className=\"processing-info\">\r\n                  <span className=\"processing-text\">\r\n                    Processando: {splittingProgress.fileName}\r\n                  </span>\r\n                  <div className=\"processing-progress\">\r\n                    {splittingProgress.current} de {splittingProgress.total} arquivos\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Mensagens de erro para divisor */}\r\n            {splitError && (\r\n              <div className=\"split-error\">\r\n                <span className=\"error-icon\">‚úó</span>\r\n                <pre className=\"error-text\">{splitError}</pre>\r\n              </div>\r\n            )}\r\n\r\n            {/* Mensagem de sucesso para divisor */}\r\n            {splitSuccess && (\r\n              <div className=\"split-success\">\r\n                <span className=\"success-icon\">‚úì</span>\r\n                <span className=\"success-text\">{splitSuccess}</span>\r\n              </div>\r\n            )}\r\n\r\n            {/* Resultados da divis√£o */}\r\n            {splitFiles.length > 0 && (\r\n              <div className=\"split-results\">\r\n                <div className=\"split-results-header\">\r\n                  <h3>\r\n                    <span className=\"results-icon\">üìÅ</span>\r\n                    Arquivos Gerados ({splitFiles.length})\r\n                  </h3>\r\n                  <button\r\n                    onClick={downloadAll}\r\n                    className=\"download-all-button\"\r\n                  >\r\n                    <span className=\"button-icon\">‚¨á</span>\r\n                    Baixar Todos\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"split-files-grid\">\r\n                  {splitFiles.map((file, index) => (\r\n                    <div key={index} className=\"split-file-card\">\r\n                      <div className=\"file-card-header\">\r\n                        <span className=\"file-card-icon\">üìÑ</span>\r\n                        <div className=\"file-card-info\">\r\n                          <h4 className=\"file-card-name\">{file.name}</h4>\r\n                          <div className=\"file-card-details\">\r\n                            <span className=\"file-card-pages\">{file.pages} p√°ginas</span>\r\n                            <span className=\"file-card-part\">Parte {file.partNumber} de {file.totalParts}</span>\r\n                          </div>\r\n                          <span className=\"file-card-original\">De: {file.originalFile}</span>\r\n                        </div>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => downloadFile(file)}\r\n                        className=\"download-file-button\"\r\n                      >\r\n                        <span className=\"button-icon\">‚¨á</span>\r\n                        Download\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                <div className=\"split-actions-footer\">\r\n                  <button\r\n                    onClick={resetSplitter}\r\n                    className=\"new-split-button\"\r\n                  >\r\n                    Dividir outros PDFs\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Informa√ß√µes sobre a ferramenta */}\r\n            <div className=\"splitter-info\">\r\n              <h4>Como funciona:</h4>\r\n              <ul>\r\n                <li>Selecione um ou mais arquivos PDF</li>\r\n                <li>Escolha em quantas partes dividir (2, 3 ou 4)</li>\r\n                <li>Cada PDF ser√° dividido no n√∫mero de partes selecionado</li>\r\n                <li>Se o PDF tiver p√°ginas que n√£o dividem igualmente, algumas partes ter√£o uma p√°gina extra</li>\r\n                <li>Os arquivos s√£o processados localmente no seu navegador (sem upload para servidor)</li>\r\n                <li>Seus dados permanecem seguros e privados</li>\r\n                <li>Processe m√∫ltiplos arquivos de uma vez para economizar tempo</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n      \r\n      <footer>\r\n        <p>¬© 2025 - Instituto Paulo Godoi - Sistema de Processamento de Exames</p>\r\n        <p className=\"api-info\">\r\n          Ambiente: {apiStatus?.env || 'Desconectado'} | API: {API_URL}\r\n        </p>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}